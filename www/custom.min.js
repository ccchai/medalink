window.uplus={};window.appControllers=angular.module("appControllers",[]);window.uplusModule=angular.module("uplus",[]);window.uplus.showLoading=function(n){n.$broadcast("loading-started");n.loadingCount?n.loadingCount++:n.loadingCount=1};window.uplus.hideLoading=function(n){n.loadingCount--;n.loadingCount===0&&n.$broadcast("loading-complete")};window.uplus.isSuccess=function(n){return n>0&&n<300};window.uplus.isPhoneGap=function(){return window.cordova?!0:!1};window.uplus.phoneGapInit=function(n){window.uplus.isPhoneGap()?document.addEventListener("deviceready",function(){window.uplus.baseUrl="https://easykira2.azurewebsites.net";FastClick.attach(document.body);angular.bootstrap(document,n)}):(window.uplus.baseUrl="",FastClick.attach(document.body),angular.bootstrap(document,n))};window.uplus.start=function(n){angular.element(document).ready(function(){new window.uplus.phoneGapInit(n)})};window.uplus.print={};window.uplus.print.setTitleFont=function(){var i=new Uint8Array(3),n,t;i[0]=27;i[1]=33;i[2]=8;n=new Uint8Array(3);n[0]=27;n[1]=33;n[2]=32;t=new Uint8Array(3);t[0]=27;t[1]=33;t[2]=16;bluetoothSerial.write(i,function(){},function(){});bluetoothSerial.write(n,function(){},function(){});bluetoothSerial.write(t,function(){},function(){})};window.uplus.print.setFontA=function(){bluetoothSerial.write([27,33,0],function(){},function(){})};window.uplus.print.lineFeed=function(){bluetoothSerial.write([10],function(){},function(){})};window.uplus.print.alignLeft=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=0;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.alignCenter=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=1;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.alignRight=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=2;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.bold=function(){var n=new Uint8Array(3);n[0]=27;n[1]=33;n[2]=8;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.cancelBold=function(){var n=new Uint8Array(3);n[0]=27;n[1]=69;n[2]=0;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.printString=function(n){bluetoothSerial.write(n,function(){},function(){})};window.app=angular.module("MedalinkApp",["ngRoute","appControllers","uplus","pasvaz.bindonce"]);app.config(["$routeProvider","$compileProvider","$locationProvider",function(n,t){t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|tel|mailto|file|ghttps?|ms-appx|x-wmapp0|market|whatsapp):/);t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|file|ms-appx|x-wmapp0):|data:image\//);n.when("/",{templateUrl:"pages/home.html",controller:"HomeCtrl"}).when("/hubungi",{templateUrl:"/pages/contact.html",controller:"ContactCtrl"}).when("/bertanya/:id",{templateUrl:"/pages/enquiry.html",controller:"EnquiryCtrl"}).when("/bertanya",{templateUrl:"/pages/enquiry.html",controller:"EnquiryCtrl"}).when("/callback",{templateUrl:"/pages/callback.html",controller:"CallbackCtrl"}).when("/not-found",{templateUrl:"/pages/not-found.html",controller:"NotFoundCtrl"}).otherwise({redirectTo:"/not-found"})}]);window.uplus.start(["MedalinkApp"]);app.service("CacheSvc",["$http","$q",function(n,t){return{get:function(i){var r,u,f;return window.myCache||(window.myCache={}),r=t.defer(),window.myCache[i]?(u=window.myCache[i],Array.isArray(u)?(f=u.slice(0),r.resolve(f)):r.resolve(u)):n.get(i).success(function(n,t){window.uplus.isSuccess(t)?(window.myCache||(window.myCache={}),window.myCache[i]=n,r.resolve(n)):r.reject(n)}),r.promise},remove:function(n){window.myCache&&(window.myCache[n]=undefined)},prepend:function(n,t){if(window.myCache){var i=window.myCache[n];i&&(i.unshift(t),window.myCache[n]=i)}},append:function(n,t){if(window.myCache){var i=window.myCache[n];i&&(i.push(t),window.myCache[n]=i)}},update:function(n,t){window.myCache||(window.myCache={});window.myCache[n]=t},find:function(n){if(window.myCache)return window.myCache[n]}}}]);angular.module("uplus").directive("loadingIndicator",function(){return{restrict:"A",replace:!0,template:"<div class='marquee marquee-fixed'><\/div>",link:function(n,t){n.$on("loading-started",function(){t.css({display:"block"})});n.$on("loading-complete",function(){t.css({display:"none"})})}}}),function(){"use strict";
/**
	 * Bindonce - Zero watches binding for AngularJs
	 * @version v0.3.3
	 * @link https://github.com/Pasvaz/bindonce
	 * @author Pasquale Vazzana <pasqualevazzana@gmail.com>
	 * @license MIT License, http://www.opensource.org/licenses/MIT
	 */
var n=angular.module("pasvaz.bindonce",[]);n.directive("bindonce",function(){var t=function(n){if(n&&n.length!==0){var t=angular.lowercase(""+n);n=!(t==="f"||t==="0"||t==="false"||t==="no"||t==="n"||t==="[]")}else n=!1;return n},n=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);return isNaN(n)&&(n=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10)),{restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(i,r,u,f){var o=function(n,i,r){var u=i==="show"?"":"none",f=i==="hide"?"":"none";n.css("display",t(r)?u:f)},s=function(n,t){if(angular.isObject(t)&&!angular.isArray(t)){var i=[];angular.forEach(t,function(n,t){n&&i.push(t)});t=i}t&&n.addClass(angular.isArray(t)?t.join(" "):t)},e=function(n,t){n.transclude(t,function(t){var r=n.element.parent(),i=n.element&&n.element[n.element.length-1],u=r&&r[0]||i&&i.parentNode,f=i&&i.nextSibling||null;angular.forEach(t,function(n){u.insertBefore(n,f)})})},h={watcherRemover:undefined,binders:[],group:u.boName,element:r,ran:!1,addBinder:function(n){this.binders.push(n);this.ran&&this.runBinders()},setupWatcher:function(n){var t=this;this.watcherRemover=i.$watch(n,function(n){n!==undefined&&(t.removeWatcher(),t.checkBindonce(n))},!0)},checkBindonce:function(n){var t=this,i=n.$promise?n.$promise.then:n.then;typeof i=="function"?i(function(){t.runBinders()}):t.runBinders()},removeWatcher:function(){this.watcherRemover!==undefined&&(this.watcherRemover(),this.watcherRemover=undefined)},runBinders:function(){for(var i,r,c,h,u;this.binders.length>0;)if(i=this.binders.shift(),!this.group||this.group==i.group){r=i.scope.$eval(i.interpolate?f(i.value):i.value);switch(i.attr){case"boIf":t(r)&&e(i,i.scope.$new());break;case"boSwitch":h=i.controller[0];(c=h.cases["!"+r]||h.cases["?"])&&(i.scope.$eval(i.attrs.change),angular.forEach(c,function(n){e(n,i.scope.$new())}));break;case"boSwitchWhen":u=i.controller[0];u.cases["!"+i.attrs.boSwitchWhen]=u.cases["!"+i.attrs.boSwitchWhen]||[];u.cases["!"+i.attrs.boSwitchWhen].push({transclude:i.transclude,element:i.element});break;case"boSwitchDefault":u=i.controller[0];u.cases["?"]=u.cases["?"]||[];u.cases["?"].push({transclude:i.transclude,element:i.element});break;case"hide":case"show":o(i.element,i.attr,r);break;case"class":s(i.element,r);break;case"text":i.element.text(r);break;case"html":i.element.html(r);break;case"style":i.element.css(r);break;case"disabled":i.element.prop("disabled",r);break;case"src":i.element.attr(i.attr,r);n&&i.element.prop("src",r);break;case"attr":angular.forEach(i.attrs,function(n,t){var r,u;t.match(/^boAttr./)&&i.attrs[t]&&(r=t.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),u=i.scope.$eval(i.attrs[t]),i.element.attr(r,u))});break;case"href":case"alt":case"title":case"id":case"value":i.element.attr(i.attr,r)}}this.ran=!0}};angular.extend(this,h)}],link:function(n,t,i,r){var u=i.bindonce&&n.$eval(i.bindonce);u!==undefined?r.checkBindonce(u):(r.setupWatcher(i.bindonce),t.bind("$destroy",r.removeWatcher))}}});angular.forEach([{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boDisabled",attribute:"disabled"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}],function(t){var i=200;return n.directive(t.directiveName,function(){return{priority:t.priority||i,transclude:t.transclude||!1,terminal:t.terminal||!1,require:["^bindonce"].concat(t.require||[]),controller:t.controller,compile:function(n,i,r){return function(n,i,u,f){var e=f[0],s=u.boParent,o,h;if(s&&e.group!==s){for(o=e.element.parent(),e=undefined;o[0].nodeType!==9&&o.length;){if((h=o.data("$bindonceController"))&&h.group===s){e=h;break}o=o.parent()}if(!e)throw new Error("No bindonce controller: "+s);}e.addBinder({element:i,attr:t.attribute||t.directiveName,attrs:u,value:u[t.directiveName],interpolate:t.interpolate,group:s,transclude:r,controller:f.slice(1),scope:n})}}}})})}();angular.module("uplus").directive("keepScrollPos",["$route","$window","$timeout","$location","$anchorScroll",function(n,t,i,r,u){return{restrict:"A",link:function(f){f.$on("$routeChangeStart",function(){n.current&&(window.uplus.scrollPosCache||(window.uplus.scrollPosCache={}),window.uplus.scrollPosCache[n.current.loadedTemplateUrl]=[t.pageXOffset,t.pageYOffset])});f.$on("$routeChangeSuccess",function(){if(r.hash())u();else if(window.uplus.scrollPosCache){var f=window.uplus.scrollPosCache[n.current.loadedTemplateUrl]||[0,0];i(function(){t.scrollTo(f[0],f[1])},0)}})}}}]);angular.module("uplus").config(["$httpProvider",function(n){n.defaults.headers.get||(n.defaults.headers.get={});n.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT";n.defaults.headers.get["Cache-Control"]="no-cache";n.defaults.headers.get.Pragma="no-cache";n.defaults.withCredentials=!0;n.interceptors.push(["$q","$rootScope","$location","$timeout","$injector",function(n,t,i,r,u){return{request:function(i){return t.$broadcast("loading-started"),t.loadingCount?t.loadingCount++:t.loadingCount=1,i.timeout=2e4,i.url.substring(0,5)=="/api/"&&(i.url=window.uplus.baseUrl+i.url),i||n.when(i)},response:function(f){if(t.loadingCount--,t.loadingCount===0&&t.$broadcast("loading-complete"),f.status==500)f.data&&!/<[a-z][\s\S]*>/i.test(f.data)?t.$broadcast("OnAjaxError",{msg:f.data}):t.$broadcast("OnAjaxError",{msg:"Internal error. Please try again."});else if(f.status==401){var e=i.url();e!=="/login"&&(t.returnToUrl=e);i.path("/login")}else if(f.status==403)t.$broadcast("OnAjaxError",{msg:"Access denied."});else if(f.status==400)t.$broadcast("OnAjaxError",{msg:f.data.error});else if(f.status==404)i.path("/not-found");else if(f.status==408)t.$broadcast("OnAjaxError",{msg:"Request timeout. Please try again."});else if(f.status<=0)return f.config.Retries&&f.config.Retries!==1?(f.config.Retries=null,t.$broadcast("OnAjaxError",{msg:"Request timeout. Please try again."}),n.when(f)):r(function(){f.config.Retries=f.config.Retries?2:1;var n=u.get("$http");return n(f.config)},500);return f||n.when(f)},responseError:function(f){if(t.loadingCount--,t.loadingCount===0&&t.$broadcast("loading-complete"),f.status==500)f.data&&!/<[a-z][\s\S]*>/i.test(f.data)?t.$broadcast("OnAjaxError",{msg:f.data}):t.$broadcast("OnAjaxError",{msg:"Internal error. Please try again."});else if(f.status==401){var e=i.url();e!=="/login"&&(t.returnToUrl=e);i.path("/login")}else if(f.status==403)t.$broadcast("OnAjaxError",{msg:"Access denied."});else if(f.status==400)t.$broadcast("OnAjaxError",{msg:f.data.error});else if(f.status==404)i.path("/not-found");else if(f.status==408)t.$broadcast("OnAjaxError",{msg:"Request timeout. Please try again."});else if(f.status<=0)return f.config.Retries&&f.config.Retries!==1?(f.config.Retries=null,t.$broadcast("OnAjaxError",{msg:"Request timeout. Please try again."}),n.reject(f)):r(function(){f.config.Retries=f.config.Retries?2:1;var n=u.get("$http");return n(f.config)},500);return f||n.reject(f)}}}])}]);angular.module("uplus").factory("notify",["$timeout","$http","$compile","$templateCache","$rootScope","$location","CacheSvc",function(n,t,i,r,u,f,e){var c=140,l=40,a=1e4,v="angular-notify.html",y="center",p=document.body,h=3,o=[],s=[],w=function(w){var b,g,k,d;if(typeof w!="object"&&(w={message:w}),w.duration=w.duration?w.duration:a,w.templateUrl=w.templateUrl?w.templateUrl:v,w.container=w.container?w.container:p,w.classes=w.classes?w.classes:"",b=w.scope?w.scope.$new():u.$new(),b.$position=w.position?w.position:y,b.$message=w.message,b.$classes=w.classes,b.$messageTemplate=w.messageTemplate,h>0)for(g=s.length+1-h,k=0;k<g;k++)s[k].$close();return t.get(w.templateUrl,{cache:r}).success(function(t){var r=i(t)(b),a,u,h;if(r.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",function(n){(n.propertyName==="opacity"||n.currentTarget.style.opacity===0||n.originalEvent&&n.originalEvent.propertyName==="opacity")&&(r.remove(),o.splice(o.indexOf(r),1),s.splice(s.indexOf(b),1),h())}),w.messageTemplate){for(u=0;u<r.children().length;u++)if(angular.element(r.children()[u]).hasClass("cg-notify-message-template")){a=angular.element(r.children()[u]);break}if(a)a.append(i(w.messageTemplate)(b));else throw new Error("cgNotify could not find the .cg-notify-message-template element in "+w.templateUrl+".");}angular.element(w.container).append(r);o.push(r);b.$position==="center"&&n(function(){b.$centerMargin="-"+r[0].offsetWidth/2+"px"});b.$close=function(){r.css("opacity",0).attr("data-closing","true");h()};b.$toClose=function(){w.url&&(e.remove(w.url),f.path(w.url));b.$close()};h=function(){for(var e=0,r=c,n=o.length-1;n>=0;n--){var u=10,t=o[n],i=t[0].offsetHeight,f=r+i+u;t.attr("data-closing")?f+=20:r+=i+l;t.css("top",f+"px").css("margin-top","-"+(i+u)+"px").css("visibility","visible");e++}};n(function(){h()});w.duration>0&&n(function(){b.$close()},w.duration)}).error(function(n){throw new Error("Template specified for cgNotify ("+w.templateUrl+") could not be loaded. "+n);}),d={},d.close=function(){b.$close&&b.$close()},Object.defineProperty(d,"message",{get:function(){return b.$message},set:function(n){b.$message=n}}),s.push(b),d};return w.config=function(n){c=angular.isUndefined(n.startTop)?c:n.startTop;l=angular.isUndefined(n.verticalSpacing)?l:n.verticalSpacing;a=angular.isUndefined(n.duration)?a:n.duration;v=n.templateUrl?n.templateUrl:v;y=angular.isUndefined(n.position)?y:n.position;p=n.container?n.container:p;h=n.maximumOpen?n.maximumOpen:h},w.closeAll=function(){for(var t,n=o.length-1;n>=0;n--)t=o[n],t.css("opacity",0)},w}]);angular.module("uplus").run(["$templateCache",function(n){"use strict";n.put("angular-notify.html","<div class='cg-notify-message' ng-click='$toClose()' ng-bind='$message'><\/div>")}]);angular.module("uplus").service("loadGmap",["$window","$q",function(n,t){function r(){if(!window.google||!window.google.maps){var n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?v=3.27&region=MY&libraries=places&callback=initMap&key=AIzaSyDvkW8r0vdJboro7aTj7-vXetqsAJeqAfc";document.body.appendChild(n)}}var i=t.defer();return n.initMap=function(){i.resolve()},r(),i.promise}]);appControllers.controller("NavCtrl",["$scope","$rootScope","$http","notify",function(n,t,i,r){t.setPageTitle=function(i,r){t.mainPageTitle=i+" - Medalink";n.buttonIdx=r};t.showModal=function(n){r({message:n})};angular.element(document.getElementById("splash")).remove()}]);appControllers.controller("HomeCtrl",["$rootScope","$scope",function(n,t){var i,r,u,f;n.setPageTitle("Berita",1);i=Math.max(document.documentElement.clientWidth,window.innerWidth||0);r=Math.max(document.documentElement.clientHeight,window.innerHeight||0);i>500&&(i=500);r=r-100;u="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FJum.Medalink&tabs=timeline&small_header=true&adapt_container_width=true&width=";u=u+i+"&height="+r+"&hide_cover=false&show_facepile=true&appId=1899000120420197";f=document.getElementById("fb");f.src=u;f.width=i;f.height=r;t.$on("OnAjaxError",function(t,i){n.showModal(i.msg)})}]);appControllers.controller("NotFoundCtrl",["$rootScope","$scope",function(n,t){n.setPageTitle("Page Not Found",0);t.back=function(){window.history.back()};t.$on("OnAjaxError",function(t,i){n.showModal(i.msg)})}]);appControllers.controller("ContactCtrl",["$rootScope","$scope","CacheSvc","loadGmap",function(n,t,i,r){n.setPageTitle("Hubungi",3);i.get("/api/Contact").then(function(n){t.current=n});r.then(function(){t.initMap()});t.initMap=function(){var t={center:{lat:1.514941,lng:110.31069},zoom:16,streetViewControl:!0,mapTypeControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT}},n=new google.maps.Map(document.getElementById("map-canvas"),t),i=new google.maps.Marker({map:n,position:n.getCenter()})};t.$on("OnAjaxError",function(t,i){n.showModal(i.msg)})}]);appControllers.controller("EnquiryCtrl",["$rootScope","$scope","CacheSvc","$routeParams","$location",function(n,t,r,u,f){n.setPageTitle("Bertanya",2);r.get("/api/Enquiry").then(function(n){if(t.list=n,u.id){for(i=0;i<t.list.length;i++)if(t.list[i].Qid==u.id){t.current=t.list[i];break}}else t.current=t.list[0];if(t.current){t.current.Answers=JSON.parse(t.current.AnswerJson);var r;for(j=0;j<t.current.Answers.length;j++)r=t.current.Answers[j],r.GoTo&&(r.Link=r.GoTo.indexOf("http")>-1?r.GoTo:r.GoTo.indexOf("whatsapp")>-1?r.GoTo:r.GoTo.indexOf("#")>-1?r.GoTo:"#/bertanya/"+r.GoTo)}else f.path("/not-found")});t.log=function(n){window.sessionStorage.setItem(t.current.Qid,JSON.stringify({Code:t.current.Code,Answer:n.Text}))};t.$on("OnAjaxError",function(t,i){n.showModal(i.msg)})}]);appControllers.controller("CallbackCtrl",["$rootScope","$scope","CacheSvc","$http","$location",function(n,t,i,r,u){n.setPageTitle("Bertanya",2);t.current={};i.get("/api/Enquiry").then(function(n){t.list=n});t.submitForm=function(i){var e,o,f;if(i.$valid){for(t.isDisabled=!0,e=[],f=0;f<t.list.length;f++)o=t.list[f],window.sessionStorage.getItem(o.Qid)&&e.push(JSON.parse(window.sessionStorage.getItem(o.Qid)));t.current.JsonText=JSON.stringify(e);r.post("/api/Callback",t.current).success(function(i,r){window.uplus.isSuccess(r)&&(t.isDisabled=!1,n.showModal("Terima kasih.\nWakil kami akan menghubungi anda."),u.path("/"))})}};t.$on("OnAjaxError",function(i,r){t.isDisabled=!1;n.showModal(r.msg)})}]);