//! moment.js
//! version : 2.17.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.moment=t()})(this,function(){"use strict";function t(){return ff.apply(null,arguments)}function bs(n){ff=n}function at(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function pi(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function ks(n){for(var t in n)return!1;return!0}function dt(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function wi(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function ef(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function l(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function vt(n,t){for(var i in t)l(t,i)&&(n[i]=t[i]);return l(t,"toString")&&(n.toString=t.toString),l(t,"valueOf")&&(n.valueOf=t.valueOf),n}function rt(n,t,i,r){return lo(n,t,i,r,!0).utc()}function ds(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function u(n){return n._pf==null&&(n._pf=ds()),n._pf}function wr(n){if(n._isValid==null){var t=u(n),r=sf.call(t.parsedDateParts,function(n){return n!=null}),i=!isNaN(n._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(n._strict&&(i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined),Object.isFrozen!=null&&Object.isFrozen(n))return i;n._isValid=i}return n._isValid}function bi(n){var t=rt(NaN);return n!=null?vt(u(t),n):u(t).userInvalidated=!0,t}function b(n){return n===void 0}function br(n,t){var f,i,r;if(b(t._isAMomentObject)||(n._isAMomentObject=t._isAMomentObject),b(t._i)||(n._i=t._i),b(t._f)||(n._f=t._f),b(t._l)||(n._l=t._l),b(t._strict)||(n._strict=t._strict),b(t._tzm)||(n._tzm=t._tzm),b(t._isUTC)||(n._isUTC=t._isUTC),b(t._offset)||(n._offset=t._offset),b(t._pf)||(n._pf=u(t)),b(t._locale)||(n._locale=t._locale),ki.length>0)for(f in ki)i=ki[f],r=t[i],b(r)||(n[i]=r);return n}function hi(n){br(this,n);this._d=new Date(n._d!=null?n._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));di===!1&&(di=!0,t.updateOffset(this),di=!1)}function yt(n){return n instanceof hi||n!=null&&n._isAMomentObject!=null}function k(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function f(n){var t=+n,i=0;return t!==0&&isFinite(t)&&(i=k(t)),i}function hf(n,t,i){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),u=0,r=0;r<e;r++)(i&&n[r]!==t[r]||!i&&f(n[r])!==f(t[r]))&&u++;return u+o}function cf(n){t.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+n)}function d(n,i){var r=!0;return vt(function(){var e,u,f,o;if(t.deprecationHandler!=null&&t.deprecationHandler(null,n),r){for(e=[],f=0;f<arguments.length;f++){if(u="",typeof arguments[f]=="object"){u+="\n["+f+"] ";for(o in arguments[0])u+=o+": "+arguments[0][o]+", ";u=u.slice(0,-2)}else u=arguments[f];e.push(u)}cf(n+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack);r=!1}return i.apply(this,arguments)},i)}function lf(n,i){t.deprecationHandler!=null&&t.deprecationHandler(n,i);kr[n]||(cf(i),kr[n]=!0)}function et(n){return n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function gs(n){var t;for(var i in n)t=n[i],et(t)?this[i]=t:this["_"+i]=t;this._config=n;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function af(n,t){var r=vt({},n);for(var i in t)l(t,i)&&(pi(n[i])&&pi(t[i])?(r[i]={},vt(r[i],n[i]),vt(r[i],t[i])):t[i]!=null?r[i]=t[i]:delete r[i]);for(i in n)l(n,i)&&!l(t,i)&&pi(n[i])&&(r[i]=vt({},r[i]));return r}function dr(n){n!=null&&this.set(n)}function nh(n,t,i){var r=this._calendar[n]||this._calendar.sameElse;return et(r)?r.call(t,i):r}function th(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n])}function ih(){return this._invalidDate}function rh(n){return this._ordinal.replace("%d",n)}function uh(n,t,i,r){var u=this._relativeTime[i];return et(u)?u(n,t,i,r):u.replace(/%d/i,n)}function fh(n,t){var i=this._relativeTime[n>0?"future":"past"];return et(i)?i(t):i.replace(/%s/i,t)}function p(n,t){var i=n.toLowerCase();ui[i]=ui[i+"s"]=ui[t]=n}function g(n){return typeof n=="string"?ui[n]||ui[n.toLowerCase()]:undefined}function gr(n){var r={},t;for(var i in n)l(n,i)&&(t=g(i),t&&(r[t]=n[i]));return r}function w(n,t){nu[n]=t}function eh(n){var t=[];for(var i in n)t.push({unit:i,priority:nu[i]});return t.sort(function(n,t){return n.priority-t.priority}),t}function fi(n,i){return function(r){return r!=null?(ne(this,n,r),t.updateOffset(this,i),this):gi(this,n)}}function gi(n,t){return n.isValid()?n._d["get"+(n._isUTC?"UTC":"")+t]():NaN}function ne(n,t,i){n.isValid()&&n._d["set"+(n._isUTC?"UTC":"")+t](i)}function oh(n){return(n=g(n),et(this[n]))?this[n]():this}function sh(n,t){var r,i;if(typeof n=="object")for(n=gr(n),r=eh(n),i=0;i<r.length;i++)this[r[i].unit](n[r[i].unit]);else if(n=g(n),et(this[n]))return this[n](t);return this}function ot(n,t,i){var r=""+Math.abs(n),u=t-r.length,f=n>=0;return(f?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+r}function r(n,t,i,r){var u=r;typeof r=="string"&&(u=function(){return this[r]()});n&&(ei[n]=u);t&&(ei[t[0]]=function(){return ot(u.apply(this,arguments),t[1],t[2])});i&&(ei[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function hh(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ch(n){for(var t=n.match(te),i=0,r=t.length;i<r;i++)t[i]=ei[t[i]]?ei[t[i]]:hh(t[i]);return function(i){for(var f="",u=0;u<r;u++)f+=t[u]instanceof Function?t[u].call(i,n):t[u];return f}}function iu(n,t){return n.isValid()?(t=ie(t,n.localeData()),tu[t]=tu[t]||ch(t),tu[t](n)):n.localeData().invalidDate()}function ie(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(nr.lastIndex=0;i>=0&&nr.test(n);)n=n.replace(nr,r),nr.lastIndex=0,i-=1;return n}function i(n,t,i){fu[n]=et(t)?t:function(n){return n&&i?i:t}}function ah(n,t){return l(fu,n)?fu[n](t._strict,t._locale):new RegExp(vh(n))}function vh(n){return gt(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u}))}function gt(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function s(n,t){var i,r=t;for(typeof n=="string"&&(n=[n]),dt(t)&&(r=function(n,i){i[t]=f(n)}),i=0;i<n.length;i++)er[n[i]]=r}function li(n,t){s(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function yh(n,t,i){t!=null&&l(er,n)&&er[n](t,i._a,i,n)}function eu(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function bh(n,t){return n?at(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||ou).test(t)?"format":"standalone"][n.month()]:this._months}function kh(n,t){return n?at(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[ou.test(t)?"format":"standalone"][n.month()]:this._monthsShort}function dh(n,t,i){var u,r,e,f=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],u=0;u<12;++u)e=rt([2e3,u]),this._shortMonthsParse[u]=this.monthsShort(e,"").toLocaleLowerCase(),this._longMonthsParse[u]=this.months(e,"").toLocaleLowerCase();return i?t==="MMM"?(r=v.call(this._shortMonthsParse,f),r!==-1?r:null):(r=v.call(this._longMonthsParse,f),r!==-1?r:null):t==="MMM"?(r=v.call(this._shortMonthsParse,f),r!==-1)?r:(r=v.call(this._longMonthsParse,f),r!==-1?r:null):(r=v.call(this._longMonthsParse,f),r!==-1)?r:(r=v.call(this._shortMonthsParse,f),r!==-1?r:null)}function gh(n,t,i){var r,u,f;if(this._monthsParseExact)return dh.call(this,n,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++)if((u=rt([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&t==="MMMM"&&this._longMonthsParse[r].test(n))||i&&t==="MMM"&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r}function ce(n,t){var i;if(!n.isValid())return n;if(typeof t=="string")if(/^\d+$/.test(t))t=f(t);else if(t=n.localeData().monthsParse(t),!dt(t))return n;return i=Math.min(n.date(),eu(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n}function le(n){return n!=null?(ce(this,n),t.updateOffset(this,!0),this):gi(this,"Month")}function nc(){return eu(this.year(),this.month())}function tc(n){return this._monthsParseExact?(l(this,"_monthsRegex")||ye.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=ae),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function ic(n){return this._monthsParseExact?(l(this,"_monthsRegex")||ye.call(this),n?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=ve),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function ye(){function f(n,t){return t.length-n.length}for(var i=[],r=[],t=[],u,n=0;n<12;n++)u=rt([2e3,n]),i.push(this.monthsShort(u,"")),r.push(this.months(u,"")),t.push(this.months(u,"")),t.push(this.monthsShort(u,""));for(i.sort(f),r.sort(f),t.sort(f),n=0;n<12;n++)i[n]=gt(i[n]),r[n]=gt(r[n]);for(n=0;n<24;n++)t[n]=gt(t[n]);this._monthsRegex=new RegExp("^("+t.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ai(n){return pe(n)?366:365}function pe(n){return n%4==0&&n%100!=0||n%400==0}function rc(){return pe(this.year())}function uc(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return n<100&&n>=0&&isFinite(o.getFullYear())&&o.setFullYear(n),o}function or(n){var t=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(n),t}function sr(n,t,i){var r=7+t-i,u=(7+or(n,0,r).getUTCDay()-t)%7;return-u+r-1}function we(n,t,i,r,u){var s=(7+i-r)%7,h=sr(n,r,u),f=1+7*(t-1)+s+h,e,o;return f<=0?(e=n-1,o=ai(e)+f):f>ai(n)?(e=n+1,o=f-ai(n)):(e=n,o=f),{year:e,dayOfYear:o}}function vi(n,t,i){var e=sr(n.year(),t,i),r=Math.floor((n.dayOfYear()-e-1)/7)+1,f,u;return r<1?(u=n.year()-1,f=r+ti(u,t,i)):r>ti(n.year(),t,i)?(f=r-ti(n.year(),t,i),u=n.year()+1):(u=n.year(),f=r),{week:f,year:u}}function ti(n,t,i){var r=sr(n,t,i),u=sr(n+1,t,i);return(ai(n)-r+u)/7}function fc(n){return vi(n,this._week.dow,this._week.doy).week}function ec(){return this._week.dow}function oc(){return this._week.doy}function sc(n){var t=this.localeData().week(this);return n==null?t:this.add((n-t)*7,"d")}function hc(n){var t=vi(this,1,4).week;return n==null?t:this.add((n-t)*7,"d")}function cc(n,t){return typeof n!="string"?n:isNaN(n)?(n=t.weekdaysParse(n),typeof n=="number")?n:null:parseInt(n,10)}function lc(n,t){return typeof n=="string"?t.weekdaysParse(n)%7||7:isNaN(n)?null:n}function ac(n,t){return n?at(this._weekdays)?this._weekdays[n.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][n.day()]:this._weekdays}function vc(n){return n?this._weekdaysShort[n.day()]:this._weekdaysShort}function yc(n){return n?this._weekdaysMin[n.day()]:this._weekdaysMin}function pc(n,t,i){var f,r,e,u=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],f=0;f<7;++f)e=rt([2e3,1]).day(f),this._minWeekdaysParse[f]=this.weekdaysMin(e,"").toLocaleLowerCase(),this._shortWeekdaysParse[f]=this.weekdaysShort(e,"").toLocaleLowerCase(),this._weekdaysParse[f]=this.weekdays(e,"").toLocaleLowerCase();return i?t==="dddd"?(r=v.call(this._weekdaysParse,u),r!==-1?r:null):t==="ddd"?(r=v.call(this._shortWeekdaysParse,u),r!==-1?r:null):(r=v.call(this._minWeekdaysParse,u),r!==-1?r:null):t==="dddd"?(r=v.call(this._weekdaysParse,u),r!==-1)?r:(r=v.call(this._shortWeekdaysParse,u),r!==-1)?r:(r=v.call(this._minWeekdaysParse,u),r!==-1?r:null):t==="ddd"?(r=v.call(this._shortWeekdaysParse,u),r!==-1)?r:(r=v.call(this._weekdaysParse,u),r!==-1)?r:(r=v.call(this._minWeekdaysParse,u),r!==-1?r:null):(r=v.call(this._minWeekdaysParse,u),r!==-1)?r:(r=v.call(this._weekdaysParse,u),r!==-1)?r:(r=v.call(this._shortWeekdaysParse,u),r!==-1?r:null)}function wc(n,t,i){var r,u,f;if(this._weekdaysParseExact)return pc.call(this,n,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++)if((u=rt([2e3,1]).day(r),i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(u,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(u,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(u,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(f="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[r]=new RegExp(f.replace(".",""),"i")),i&&t==="dddd"&&this._fullWeekdaysParse[r].test(n))||i&&t==="ddd"&&this._shortWeekdaysParse[r].test(n)||i&&t==="dd"&&this._minWeekdaysParse[r].test(n)||!i&&this._weekdaysParse[r].test(n))return r}function bc(n){if(!this.isValid())return n!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return n!=null?(n=cc(n,this.localeData()),this.add(n-t,"d")):t}function kc(n){if(!this.isValid())return n!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return n==null?t:this.add(n-t,"d")}function dc(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var t=lc(n,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function gc(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||hu.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=no),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function nl(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||hu.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=to),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function tl(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||hu.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=io),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function hu(){function u(n,t){return t.length-n.length}for(var e=[],i=[],r=[],t=[],f,o,s,h,n=0;n<7;n++)f=rt([2e3,1]).day(n),o=this.weekdaysMin(f,""),s=this.weekdaysShort(f,""),h=this.weekdays(f,""),e.push(o),i.push(s),r.push(h),t.push(o),t.push(s),t.push(h);for(e.sort(u),i.sort(u),r.sort(u),t.sort(u),n=0;n<7;n++)i[n]=gt(i[n]),r[n]=gt(r[n]),t[n]=gt(t[n]);this._weekdaysRegex=new RegExp("^("+t.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function cu(){return this.hours()%12||12}function il(){return this.hours()||24}function ro(n,t){r(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function uo(n,t){return t._meridiemParse}function rl(n){return(n+"").toLowerCase().charAt(0)==="p"}function ul(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}function oo(n){return n?n.toLowerCase().replace("_","-"):n}function el(n){for(var r=0,i,t,f,u;r<n.length;){for(u=oo(n[r]).split("-"),i=u.length,t=oo(n[r+1]),t=t?t.split("-"):null;i>0;){if(f=so(u.slice(0,i).join("-")),f)return f;if(t&&t.length>=i&&hf(u,t,!0)>=i-1)break;i--}r++}return null}function so(n){var t=null;if(!a[n]&&typeof module!="undefined"&&module&&module.exports)try{t=hr._abbr;require("./locale/"+n);oi(t)}catch(i){}return a[n]}function oi(n,t){var i;return n&&(i=b(t)?pt(n):lu(n,t),i&&(hr=i)),hr._abbr}function lu(n,t){if(t!==null){var i=eo;if(t.abbr=n,a[n]!=null)lf("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=a[n]._config;else if(t.parentLocale!=null)if(a[t.parentLocale]!=null)i=a[t.parentLocale]._config;else return yi[t.parentLocale]||(yi[t.parentLocale]=[]),yi[t.parentLocale].push({name:n,config:t}),null;return a[n]=new dr(af(i,t)),yi[n]&&yi[n].forEach(function(n){lu(n.name,n.config)}),oi(n),a[n]}return delete a[n],null}function ol(n,t){if(t!=null){var i,r=eo;a[n]!=null&&(r=a[n]._config);t=af(r,t);i=new dr(t);i.parentLocale=a[n];a[n]=i;oi(n)}else a[n]!=null&&(a[n].parentLocale!=null?a[n]=a[n].parentLocale:a[n]!=null&&delete a[n]);return a[n]}function pt(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return hr;if(!at(n)){if(t=so(n),t)return t;n=[n]}return el(n)}function sl(){return yf(a)}function au(n){var i,t=n._a;return t&&u(n).overflow===-2&&(i=t[st]<0||t[st]>11?st:t[ut]<1||t[ut]>eu(t[tt],t[st])?ut:t[y]<0||t[y]>24||t[y]===24&&(t[it]!==0||t[ht]!==0||t[ni]!==0)?y:t[it]<0||t[it]>59?it:t[ht]<0||t[ht]>59?ht:t[ni]<0||t[ni]>999?ni:-1,u(n)._overflowDayOfYear&&(i<tt||i>ut)&&(i=ut),u(n)._overflowWeeks&&i===-1&&(i=ph),u(n)._overflowWeekday&&i===-1&&(i=wh),u(n).overflow=i),n}function ho(n){var t,r,o=n._i,i=hl.exec(o)||cl.exec(o),s,e,f,h;if(i){for(u(n).iso=!0,t=0,r=cr.length;t<r;t++)if(cr[t][1].exec(i[1])){e=cr[t][0];s=cr[t][2]!==!1;break}if(e==null){n._isValid=!1;return}if(i[3]){for(t=0,r=vu.length;t<r;t++)if(vu[t][1].exec(i[3])){f=(i[2]||" ")+vu[t][0];break}if(f==null){n._isValid=!1;return}}if(!s&&f!=null){n._isValid=!1;return}if(i[4])if(ll.exec(i[4]))h="Z";else{n._isValid=!1;return}n._f=e+(f||"")+(h||"");pu(n)}else n._isValid=!1}function vl(n){var i=al.exec(n._i);if(i!==null){n._d=new Date(+i[1]);return}ho(n);n._isValid===!1&&(delete n._isValid,t.createFromInputFallback(n))}function si(n,t,i){return n!=null?n:t!=null?t:i}function yl(n){var i=new Date(t.now());return n._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function yu(n){var t,i,r=[],f,e;if(!n._d){for(f=yl(n),n._w&&n._a[ut]==null&&n._a[st]==null&&pl(n),n._dayOfYear&&(e=si(n._a[tt],f[tt]),n._dayOfYear>ai(e)&&(u(n)._overflowDayOfYear=!0),i=or(e,0,n._dayOfYear),n._a[st]=i.getUTCMonth(),n._a[ut]=i.getUTCDate()),t=0;t<3&&n._a[t]==null;++t)n._a[t]=r[t]=f[t];for(;t<7;t++)n._a[t]=r[t]=n._a[t]==null?t===2?1:0:n._a[t];n._a[y]===24&&n._a[it]===0&&n._a[ht]===0&&n._a[ni]===0&&(n._nextDay=!0,n._a[y]=0);n._d=(n._useUTC?or:uc).apply(null,r);n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[y]=24)}}function pl(n){var t,o,f,i,r,e,h,s,l;t=n._w;t.GG!=null||t.W!=null||t.E!=null?(r=1,e=4,o=si(t.GG,n._a[tt],vi(c(),1,4).year),f=si(t.W,1),i=si(t.E,1),(i<1||i>7)&&(s=!0)):(r=n._locale._week.dow,e=n._locale._week.doy,l=vi(c(),r,e),o=si(t.gg,n._a[tt],l.year),f=si(t.w,l.week),t.d!=null?(i=t.d,(i<0||i>6)&&(s=!0)):t.e!=null?(i=t.e+r,(t.e<0||t.e>6)&&(s=!0)):i=r);f<1||f>ti(o,r,e)?u(n)._overflowWeeks=!0:s!=null?u(n)._overflowWeekday=!0:(h=we(o,f,i,r,e),n._a[tt]=h.year,n._dayOfYear=h.dayOfYear)}function pu(n){if(n._f===t.ISO_8601){ho(n);return}n._a=[];u(n).empty=!0;for(var i=""+n._i,r,f,s,c=i.length,h=0,o=ie(n._f,n._locale).match(te)||[],e=0;e<o.length;e++)f=o[e],r=(i.match(ah(f,n))||[])[0],r&&(s=i.substr(0,i.indexOf(r)),s.length>0&&u(n).unusedInput.push(s),i=i.slice(i.indexOf(r)+r.length),h+=r.length),ei[f]?(r?u(n).empty=!1:u(n).unusedTokens.push(f),yh(f,r,n)):n._strict&&!r&&u(n).unusedTokens.push(f);u(n).charsLeftOver=c-h;i.length>0&&u(n).unusedInput.push(i);n._a[y]<=12&&u(n).bigHour===!0&&n._a[y]>0&&(u(n).bigHour=undefined);u(n).parsedDateParts=n._a.slice(0);u(n).meridiem=n._meridiem;n._a[y]=wl(n._locale,n._a[y],n._meridiem);yu(n);au(n)}function wl(n,t,i){var r;return i==null?t:n.meridiemHour!=null?n.meridiemHour(t,i):n.isPM!=null?(r=n.isPM(i),r&&t<12&&(t+=12),r||t!==12||(t=0),t):t}function bl(n){var t,e,f,r,i;if(n._f.length===0){u(n).invalidFormat=!0;n._d=new Date(NaN);return}for(r=0;r<n._f.length;r++)(i=0,t=br({},n),n._useUTC!=null&&(t._useUTC=n._useUTC),t._f=n._f[r],pu(t),wr(t))&&(i+=u(t).charsLeftOver,i+=u(t).unusedTokens.length*10,u(t).score=i,(f==null||i<f)&&(f=i,e=t));vt(n,e||t)}function kl(n){if(!n._d){var t=gr(n._i);n._a=ef([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)});yu(n)}}function dl(n){var t=new hi(au(co(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=undefined),t}function co(n){var t=n._i,i=n._f;return(n._locale=n._locale||pt(n._l),t===null||i===undefined&&t==="")?bi({nullInput:!0}):(typeof t=="string"&&(n._i=t=n._locale.preparse(t)),yt(t))?new hi(au(t)):(wi(t)?n._d=t:at(i)?bl(n):i?pu(n):gl(n),wr(n)||(n._d=null),n)}function gl(n){var i=n._i;i===undefined?n._d=new Date(t.now()):wi(i)?n._d=new Date(i.valueOf()):typeof i=="string"?vl(n):at(i)?(n._a=ef(i.slice(0),function(n){return parseInt(n,10)}),yu(n)):typeof i=="object"?kl(n):dt(i)?n._d=new Date(i):t.createFromInputFallback(n)}function lo(n,t,i,r,u){var f={};return(i===!0||i===!1)&&(r=i,i=undefined),(pi(n)&&ks(n)||at(n)&&n.length===0)&&(n=undefined),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,dl(f)}function c(n,t,i,r){return lo(n,t,i,r,!1)}function yo(n,t){var r,i;if(t.length===1&&at(t[0])&&(t=t[0]),!t.length)return c();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][n](r))&&(r=t[i]);return r}function na(){var n=[].slice.call(arguments,0);return yo("isBefore",n)}function ta(){var n=[].slice.call(arguments,0);return yo("isAfter",n)}function lr(n){var t=gr(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||0,e=t.day||0,o=t.hour||0,s=t.minute||0,h=t.second||0,c=t.millisecond||0;this._milliseconds=+c+h*1e3+s*6e4+o*36e5;this._days=+e+f*7;this._months=+u+r*3+i*12;this._data={};this._locale=pt();this._bubble()}function wu(n){return n instanceof lr}function bu(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function wo(n,t){r(n,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+ot(~~(n/60),2)+t+ot(~~n%60,2)})}function ku(n,t){var i=(t||"").match(n);if(i===null)return null;var e=i[i.length-1]||[],r=(e+"").match(bo)||["-",0,0],u=+(r[1]*60)+f(r[2]);return u===0?0:r[0]==="+"?u:-u}function du(n,i){var r,u;return i._isUTC?(r=i.clone(),u=(yt(n)||wi(n)?n.valueOf():c(n).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+u),t.updateOffset(r,!1),r):c(n).local()}function gu(n){return-Math.round(n._d.getTimezoneOffset()/15)*15}function ia(n,i){var r=this._offset||0,u;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=ku(fr,n),n===null)return this}else Math.abs(n)<16&&(n=n*60);return!this._isUTC&&i&&(u=gu(this)),this._offset=n,this._isUTC=!0,u!=null&&this.add(u,"m"),r!==n&&(!i||this._changeInProgress?rs(this,wt(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:gu(this)}function ra(n,t){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function ua(n){return this.utcOffset(0,n)}function fa(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(gu(this),"m")),this}function ea(){if(this._tzm!=null)this.utcOffset(this._tzm);else if(typeof this._i=="string"){var n=ku(lh,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function oa(n){return this.isValid()?(n=n?c(n).utcOffset():0,(this.utcOffset()-n)%60==0):!1}function sa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ha(){var n,t;return b(this._isDSTShifted)?(n={},br(n,this),n=co(n),n._a?(t=n._isUTC?rt(n._a):c(n._a),this._isDSTShifted=this.isValid()&&hf(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted):this._isDSTShifted}function ca(){return this.isValid()?!this._isUTC:!1}function la(){return this.isValid()?this._isUTC:!1}function ko(){return this.isValid()?this._isUTC&&this._offset===0:!1}function wt(n,t){var i=n,r=null,u,e,o;return wu(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:dt(n)?(i={},t?i[t]=n:i.milliseconds=n):(r=go.exec(n))?(u=r[1]==="-"?-1:1,i={y:0,d:f(r[ut])*u,h:f(r[y])*u,m:f(r[it])*u,s:f(r[ht])*u,ms:f(bu(r[ni]*1e3))*u}):(r=ns.exec(n))?(u=r[1]==="-"?-1:1,i={y:ii(r[2],u),M:ii(r[3],u),w:ii(r[4],u),d:ii(r[5],u),h:ii(r[6],u),m:ii(r[7],u),s:ii(r[8],u)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(o=aa(c(i.from),c(i.to)),i={},i.ms=o.milliseconds,i.M=o.months),e=new lr(i),wu(n)&&l(n,"_locale")&&(e._locale=n._locale),e}function ii(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function ts(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+(t.year()-n.year())*12,n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function aa(n,t){var i;return(n.isValid()&&t.isValid())?(t=du(t,n),n.isBefore(t)?i=ts(n,t):(i=ts(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function is(n,t){return function(i,r){var u,f;return r===null||isNaN(+r)||(lf(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=i,i=r,r=f),i=typeof i=="string"?+i:i,u=wt(i,r),rs(this,u,n),this}}function rs(n,i,r,u){var o=i._milliseconds,f=bu(i._days),e=bu(i._months);n.isValid()&&(u=u==null?!0:u,o&&n._d.setTime(n._d.valueOf()+o*r),f&&ne(n,"Date",gi(n,"Date")+f*r),e&&ce(n,gi(n,"Month")+e*r),u&&t.updateOffset(n,f||e))}function va(n,t){var i=n.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function ya(n,i){var u=n||c(),f=du(u,this).startOf("day"),r=t.calendarFormat(this,f)||"sameElse",e=i&&(et(i[r])?i[r].call(this,u):i[r]);return this.format(e||this.localeData().calendar(r,this,c(u)))}function pa(){return new hi(this)}function wa(n,t){var i=yt(n)?n:c(n);return(this.isValid()&&i.isValid())?(t=g(b(t)?"millisecond":t),t==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf()):!1}function ba(n,t){var i=yt(n)?n:c(n);return(this.isValid()&&i.isValid())?(t=g(b(t)?"millisecond":t),t==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf()):!1}function ka(n,t,i,r){return r=r||"()",(r[0]==="("?this.isAfter(n,i):!this.isBefore(n,i))&&(r[1]===")"?this.isBefore(t,i):!this.isAfter(t,i))}function da(n,t){var i=yt(n)?n:c(n),r;return(this.isValid()&&i.isValid())?(t=g(t||"millisecond"),t==="millisecond"?this.valueOf()===i.valueOf():(r=i.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function ga(n,t){return this.isSame(n,t)||this.isAfter(n,t)}function nv(n,t){return this.isSame(n,t)||this.isBefore(n,t)}function tv(n,t,i){var f,e,u,r;return this.isValid()?(f=du(n,this),!f.isValid())?NaN:(e=(f.utcOffset()-this.utcOffset())*6e4,t=g(t),t==="year"||t==="month"||t==="quarter"?(r=iv(this,f),t==="quarter"?r=r/3:t==="year"&&(r=r/12)):(u=this-f,r=t==="second"?u/1e3:t==="minute"?u/6e4:t==="hour"?u/36e5:t==="day"?(u-e)/864e5:t==="week"?(u-e)/6048e5:u),i?r:k(r)):NaN}function iv(n,t){var r=(t.year()-n.year())*12+(t.month()-n.month()),i=n.clone().add(r,"months"),u,f;return t-i<0?(u=n.clone().add(r-1,"months"),f=(t-i)/(i-u)):(u=n.clone().add(r+1,"months"),f=(t-i)/(u-i)),-(r+f)||0}function rv(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function uv(){var n=this.clone().utc();return 0<n.year()&&n.year()<=9999?et(Date.prototype.toISOString)?this.toDate().toISOString():iu(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):iu(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function fv(){var n,t;if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";n="moment";t="";this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z");var i="["+n+'("]',r=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",u=t+'[")]';return this.format(i+r+"-MM-DD[T]HH:mm:ss.SSS"+u)}function ev(n){n||(n=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=iu(this,n);return this.localeData().postformat(i)}function ov(n,t){return this.isValid()&&(yt(n)&&n.isValid()||c(n).isValid())?wt({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function sv(n){return this.from(c(),n)}function hv(n,t){return this.isValid()&&(yt(n)&&n.isValid()||c(n).isValid())?wt({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cv(n){return this.to(c(),n)}function es(n){var t;return n===undefined?this._locale._abbr:(t=pt(n),t!=null&&(this._locale=t),this)}function os(){return this._locale}function lv(n){n=g(n);switch(n){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return n==="week"&&this.weekday(0),n==="isoWeek"&&this.isoWeekday(1),n==="quarter"&&this.month(Math.floor(this.month()/3)*3),this}function av(n){return(n=g(n),n===undefined||n==="millisecond")?this:(n==="date"&&(n="day"),this.startOf(n).add(1,n==="isoWeek"?"week":n).subtract(1,"ms"))}function vv(){return this._d.valueOf()-(this._offset||0)*6e4}function yv(){return Math.floor(this.valueOf()/1e3)}function pv(){return new Date(this.valueOf())}function wv(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function bv(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function kv(){return this.isValid()?this.toISOString():null}function dv(){return wr(this)}function gv(){return vt({},u(this))}function ny(){return u(this).overflow}function ty(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ar(n,t){r(0,[n,n.length],0,t)}function iy(n){return ss.call(this,n,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ry(n){return ss.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function uy(){return ti(this.year(),1,4)}function fy(){var n=this.localeData()._week;return ti(this.year(),n.dow,n.doy)}function ss(n,t,i,r,u){var f;return n==null?vi(this,r,u).year:(f=ti(n,r,u),t>f&&(t=f),ey.call(this,n,t,i,r,u))}function ey(n,t,i,r,u){var e=we(n,t,i,r,u),f=or(e.year,0,e.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}function oy(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}function sy(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?t:this.add(n-t,"d")}function hy(n,t){t[ni]=f(("0."+n)*1e3)}function cy(){return this._isUTC?"UTC":""}function ly(){return this._isUTC?"Coordinated Universal Time":""}function ay(n){return c(n*1e3)}function vy(){return c.apply(null,arguments).parseZone()}function as(n){return n}function vr(n,t,i,r){var u=pt(),f=rt().set(r,t);return u[i](f,n)}function vs(n,t,i){if(dt(n)&&(t=n,n=undefined),n=n||"",t!=null)return vr(n,t,i,"month");for(var u=[],r=0;r<12;r++)u[r]=vr(n,r,i,"month");return u}function rf(n,t,i,r){var o,f,u,e;if(typeof n=="boolean"?(dt(t)&&(i=t,t=undefined),t=t||""):(t=n,i=t,n=!1,dt(t)&&(i=t,t=undefined),t=t||""),o=pt(),f=n?o._week.dow:0,i!=null)return vr(t,(i+f)%7,r,"day");for(e=[],u=0;u<7;u++)e[u]=vr(t,(u+f)%7,r,"day");return e}function yy(n,t){return vs(n,t,"months")}function py(n,t){return vs(n,t,"monthsShort")}function wy(n,t,i){return rf(n,t,i,"weekdays")}function by(n,t,i){return rf(n,t,i,"weekdaysShort")}function ky(n,t,i){return rf(n,t,i,"weekdaysMin")}function dy(){var n=this._data;return this._milliseconds=ft(this._milliseconds),this._days=ft(this._days),this._months=ft(this._months),n.milliseconds=ft(n.milliseconds),n.seconds=ft(n.seconds),n.minutes=ft(n.minutes),n.hours=ft(n.hours),n.months=ft(n.months),n.years=ft(n.years),this}function ys(n,t,i,r){var u=wt(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function gy(n,t){return ys(this,n,t,1)}function np(n,t){return ys(this,n,t,-1)}function ps(n){return n<0?Math.floor(n):Math.ceil(n)}function tp(){var r=this._milliseconds,n=this._days,t=this._months,i=this._data,u,f,e,s,o;return r>=0&&n>=0&&t>=0||r<=0&&n<=0&&t<=0||(r+=ps(uf(t)+n)*864e5,n=0,t=0),i.milliseconds=r%1e3,u=k(r/1e3),i.seconds=u%60,f=k(u/60),i.minutes=f%60,e=k(f/60),i.hours=e%24,n+=k(e/24),o=k(ws(n)),t+=o,n-=ps(uf(o)),s=k(t/12),t%=12,i.days=n,i.months=t,i.years=s,this}function ws(n){return n*4800/146097}function uf(n){return n*146097/4800}function ip(n){var t,r,i=this._milliseconds;if(n=g(n),n==="month"||n==="year")return t=this._days+i/864e5,r=this._months+ws(t),n==="month"?r:r/12;t=this._days+Math.round(uf(this._months));switch(n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+n);}}function rp(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+f(this._months/12)*31536e6}function kt(n){return function(){return this.as(n)}}function ap(n){return n=g(n),this[n+"s"]()}function ri(n){return function(){return this._data[n]}}function gp(){return k(this.days()/7)}function nw(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function tw(n,t,i){var r=wt(n).abs(),h=ct(r.as("s")),f=ct(r.as("m")),e=ct(r.as("h")),o=ct(r.as("d")),s=ct(r.as("M")),c=ct(r.as("y")),u=h<lt.s&&["s",h]||f<=1&&["m"]||f<lt.m&&["mm",f]||e<=1&&["h"]||e<lt.h&&["hh",e]||o<=1&&["d"]||o<lt.d&&["dd",o]||s<=1&&["M"]||s<lt.M&&["MM",s]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+n>0,u[4]=i,nw.apply(null,u)}function iw(n){return n===undefined?ct:typeof n=="function"?(ct=n,!0):!1}function rw(n,t){return lt[n]===undefined?!1:t===undefined?lt[n]:(lt[n]=t,!0)}function uw(n){var t=this.localeData(),i=tw(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}function pr(){var t=yr(this._milliseconds)/1e3,a=yr(this._days),i=yr(this._months),n,e,o;n=k(t/60);e=k(n/60);t%=60;n%=60;o=k(i/12);i%=12;var s=o,h=i,c=a,r=e,u=n,f=t,l=this.asSeconds();return l?(l<0?"-":"")+"P"+(s?s+"Y":"")+(h?h+"M":"")+(c?c+"D":"")+(r||u||f?"T":"")+(r?r+"H":"")+(u?u+"M":"")+(f?f+"S":""):"P0D"}var ff,of,sf,ki,di,kr,vf,yf,pf,wf,bf,kf,df,gf,ui,nu,er,v,ou,se,he,ae,ve,su,be,ke,de,ge,no,to,io,fo,ao,vo,po,bo,go,ns,us,fs,nf,tf,hs,cs,bt,ls,n,o,ft,ct,lt,yr,e;of=Array.prototype.some?Array.prototype.some:function(n){for(var i=Object(this),r=i.length>>>0,t=0;t<r;t++)if(t in i&&n.call(this,i[t],t,i))return!0;return!1};sf=of;ki=t.momentProperties=[];di=!1;kr={};t.suppressDeprecationWarnings=!1;t.deprecationHandler=null;vf=Object.keys?Object.keys:function(n){var t,i=[];for(t in n)l(n,t)&&i.push(t);return i};yf=vf;pf={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};wf={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};bf="Invalid date";kf="%d";df=/\d{1,2}/;gf={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};ui={};nu={};var te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,nr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,tu={},ei={};var re=/\d/,nt=/\d\d/,ue=/\d{3}/,ru=/\d{4}/,tr=/[+-]?\d{6}/,h=/\d\d?/,fe=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,ir=/\d{1,3}/,uu=/\d{1,4}/,rr=/[+-]?\d{1,6}/,ur=/[+-]?\d+/,lh=/Z|[+-]\d\d:?\d\d/gi,fr=/Z|[+-]\d\d(?::?\d\d)?/gi,ci=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,fu={};er={};var tt=0,st=1,ut=2,y=3,it=4,ht=5,ni=6,ph=7,wh=8,oe;oe=Array.prototype.indexOf?Array.prototype.indexOf:function(n){for(var t=0;t<this.length;++t)if(this[t]===n)return t;return-1};v=oe;r("M",["MM",2],"Mo",function(){return this.month()+1});r("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});r("MMMM",0,0,function(n){return this.localeData().months(this,n)});p("month","M");w("month",8);i("M",h);i("MM",h,nt);i("MMM",function(n,t){return t.monthsShortRegex(n)});i("MMMM",function(n,t){return t.monthsRegex(n)});s(["M","MM"],function(n,t){t[st]=f(n)-1});s(["MMM","MMMM"],function(n,t,i,r){var f=i._locale.monthsParse(n,r,i._strict);f!=null?t[st]=f:u(i).invalidMonth=n});ou=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;se="January_February_March_April_May_June_July_August_September_October_November_December".split("_");he="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");ae=ci;ve=ci;r("Y",0,0,function(){var n=this.year();return n<=9999?""+n:"+"+n});r(0,["YY",2],0,function(){return this.year()%100});r(0,["YYYY",4],0,"year");r(0,["YYYYY",5],0,"year");r(0,["YYYYYY",6,!0],0,"year");p("year","y");w("year",1);i("Y",ur);i("YY",h,nt);i("YYYY",uu,ru);i("YYYYY",rr,tr);i("YYYYYY",rr,tr);s(["YYYYY","YYYYYY"],tt);s("YYYY",function(n,i){i[tt]=n.length===2?t.parseTwoDigitYear(n):f(n)});s("YY",function(n,i){i[tt]=t.parseTwoDigitYear(n)});s("Y",function(n,t){t[tt]=parseInt(n,10)});t.parseTwoDigitYear=function(n){return f(n)+(f(n)>68?1900:2e3)};su=fi("FullYear",!0);r("w",["ww",2],"wo","week");r("W",["WW",2],"Wo","isoWeek");p("week","w");p("isoWeek","W");w("week",5);w("isoWeek",5);i("w",h);i("ww",h,nt);i("W",h);i("WW",h,nt);li(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=f(n)});be={dow:0,doy:6};r("d",0,"do","day");r("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});r("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});r("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});r("e",0,0,"weekday");r("E",0,0,"isoWeekday");p("day","d");p("weekday","e");p("isoWeekday","E");w("day",11);w("weekday",11);w("isoWeekday",11);i("d",h);i("e",h);i("E",h);i("dd",function(n,t){return t.weekdaysMinRegex(n)});i("ddd",function(n,t){return t.weekdaysShortRegex(n)});i("dddd",function(n,t){return t.weekdaysRegex(n)});li(["dd","ddd","dddd"],function(n,t,i,r){var f=i._locale.weekdaysParse(n,r,i._strict);f!=null?t.d=f:u(i).invalidWeekday=n});li(["d","e","E"],function(n,t,i,r){t[r]=f(n)});ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");de="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");ge="Su_Mo_Tu_We_Th_Fr_Sa".split("_");no=ci;to=ci;io=ci;r("H",["HH",2],0,"hour");r("h",["hh",2],0,cu);r("k",["kk",2],0,il);r("hmm",0,0,function(){return""+cu.apply(this)+ot(this.minutes(),2)});r("hmmss",0,0,function(){return""+cu.apply(this)+ot(this.minutes(),2)+ot(this.seconds(),2)});r("Hmm",0,0,function(){return""+this.hours()+ot(this.minutes(),2)});r("Hmmss",0,0,function(){return""+this.hours()+ot(this.minutes(),2)+ot(this.seconds(),2)});ro("a",!0);ro("A",!1);p("hour","h");w("hour",13);i("a",uo);i("A",uo);i("H",h);i("h",h);i("HH",h,nt);i("hh",h,nt);i("hmm",fe);i("hmmss",ee);i("Hmm",fe);i("Hmmss",ee);s(["H","HH"],y);s(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n});s(["h","hh"],function(n,t,i){t[y]=f(n);u(i).bigHour=!0});s("hmm",function(n,t,i){var r=n.length-2;t[y]=f(n.substr(0,r));t[it]=f(n.substr(r));u(i).bigHour=!0});s("hmmss",function(n,t,i){var r=n.length-4,e=n.length-2;t[y]=f(n.substr(0,r));t[it]=f(n.substr(r,2));t[ht]=f(n.substr(e));u(i).bigHour=!0});s("Hmm",function(n,t){var i=n.length-2;t[y]=f(n.substr(0,i));t[it]=f(n.substr(i))});s("Hmmss",function(n,t){var i=n.length-4,r=n.length-2;t[y]=f(n.substr(0,i));t[it]=f(n.substr(i,2));t[ht]=f(n.substr(r))});fo=/[ap]\.?m?\.?/i;var fl=fi("Hours",!0),eo={calendar:pf,longDateFormat:wf,invalidDate:bf,ordinal:kf,ordinalParse:df,relativeTime:gf,months:se,monthsShort:he,week:be,weekdays:ke,weekdaysMin:ge,weekdaysShort:de,meridiemParse:fo},a={},yi={},hr;var hl=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,cl=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ll=/Z|[+-]\d\d(?::?\d\d)?/,cr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],vu=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],al=/^\/?Date\((\-?\d+)/i;for(t.createFromInputFallback=d("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))}),t.ISO_8601=function(){},ao=d("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=c.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:bi()}),vo=d("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=c.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:bi()}),po=function(){return Date.now?Date.now():+new Date},wo("Z",":"),wo("ZZ",""),i("Z",fr),i("ZZ",fr),s(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=ku(fr,n)}),bo=/([\+\-]|\d\d)/gi,t.updateOffset=function(){},go=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ns=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/,wt.fn=lr.prototype,us=is(1,"add"),fs=is(-1,"subtract"),t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",nf=d("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===undefined?this.localeData():this.locale(n)}),r(0,["gg",2],0,function(){return this.weekYear()%100}),r(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ar("gggg","weekYear"),ar("ggggg","weekYear"),ar("GGGG","isoWeekYear"),ar("GGGGG","isoWeekYear"),p("weekYear","gg"),p("isoWeekYear","GG"),w("weekYear",1),w("isoWeekYear",1),i("G",ur),i("g",ur),i("GG",h,nt),i("gg",h,nt),i("GGGG",uu,ru),i("gggg",uu,ru),i("GGGGG",rr,tr),i("ggggg",rr,tr),li(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=f(n)}),li(["gg","GG"],function(n,i,r,u){i[u]=t.parseTwoDigitYear(n)}),r("Q",0,"Qo","quarter"),p("quarter","Q"),w("quarter",7),i("Q",re),s("Q",function(n,t){t[st]=(f(n)-1)*3}),r("D",["DD",2],"Do","date"),p("date","D"),w("date",9),i("D",h),i("DD",h,nt),i("Do",function(n,t){return n?t._ordinalParse:t._ordinalParseLenient}),s(["D","DD"],ut),s("Do",function(n,t){t[ut]=f(n.match(h)[0],10)}),tf=fi("Date",!0),r("DDD",["DDDD",3],"DDDo","dayOfYear"),p("dayOfYear","DDD"),w("dayOfYear",4),i("DDD",ir),i("DDDD",ue),s(["DDD","DDDD"],function(n,t,i){i._dayOfYear=f(n)}),r("m",["mm",2],0,"minute"),p("minute","m"),w("minute",14),i("m",h),i("mm",h,nt),s(["m","mm"],it),hs=fi("Minutes",!1),r("s",["ss",2],0,"second"),p("second","s"),w("second",15),i("s",h),i("ss",h,nt),s(["s","ss"],ht),cs=fi("Seconds",!1),r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return this.millisecond()*10}),r(0,["SSSSS",5],0,function(){return this.millisecond()*100}),r(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),r(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),r(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),r(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),p("millisecond","ms"),w("millisecond",16),i("S",ir,re),i("SS",ir,nt),i("SSS",ir,ue),bt="SSSS";bt.length<=9;bt+="S")i(bt,/\d+/);for(bt="S";bt.length<=9;bt+="S")s(bt,hy);ls=fi("Milliseconds",!1);r("z",0,0,"zoneAbbr");r("zz",0,0,"zoneName");n=hi.prototype;n.add=us;n.calendar=ya;n.clone=pa;n.diff=tv;n.endOf=av;n.format=ev;n.from=ov;n.fromNow=sv;n.to=hv;n.toNow=cv;n.get=oh;n.invalidAt=ny;n.isAfter=wa;n.isBefore=ba;n.isBetween=ka;n.isSame=da;n.isSameOrAfter=ga;n.isSameOrBefore=nv;n.isValid=dv;n.lang=nf;n.locale=es;n.localeData=os;n.max=vo;n.min=ao;n.parsingFlags=gv;n.set=sh;n.startOf=lv;n.subtract=fs;n.toArray=wv;n.toObject=bv;n.toDate=pv;n.toISOString=uv;n.inspect=fv;n.toJSON=kv;n.toString=rv;n.unix=yv;n.valueOf=vv;n.creationData=ty;n.year=su;n.isLeapYear=rc;n.weekYear=iy;n.isoWeekYear=ry;n.quarter=n.quarters=oy;n.month=le;n.daysInMonth=nc;n.week=n.weeks=sc;n.isoWeek=n.isoWeeks=hc;n.weeksInYear=fy;n.isoWeeksInYear=uy;n.date=tf;n.day=n.days=bc;n.weekday=kc;n.isoWeekday=dc;n.dayOfYear=sy;n.hour=n.hours=fl;n.minute=n.minutes=hs;n.second=n.seconds=cs;n.millisecond=n.milliseconds=ls;n.utcOffset=ia;n.utc=ua;n.local=fa;n.parseZone=ea;n.hasAlignedHourOffset=oa;n.isDST=sa;n.isLocal=ca;n.isUtcOffset=la;n.isUtc=ko;n.isUTC=ko;n.zoneAbbr=cy;n.zoneName=ly;n.dates=d("dates accessor is deprecated. Use date instead.",tf);n.months=d("months accessor is deprecated. Use month instead",le);n.years=d("years accessor is deprecated. Use year instead",su);n.zone=d("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ra);n.isDSTShifted=d("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ha);o=dr.prototype;o.calendar=nh;o.longDateFormat=th;o.invalidDate=ih;o.ordinal=rh;o.preparse=as;o.postformat=as;o.relativeTime=uh;o.pastFuture=fh;o.set=gs;o.months=bh;o.monthsShort=kh;o.monthsParse=gh;o.monthsRegex=ic;o.monthsShortRegex=tc;o.week=fc;o.firstDayOfYear=oc;o.firstDayOfWeek=ec;o.weekdays=ac;o.weekdaysMin=yc;o.weekdaysShort=vc;o.weekdaysParse=wc;o.weekdaysRegex=gc;o.weekdaysShortRegex=nl;o.weekdaysMinRegex=tl;o.isPM=rl;o.meridiem=ul;oi("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,i=f(n%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+i}});t.lang=d("moment.lang is deprecated. Use moment.locale instead.",oi);t.langData=d("moment.langData is deprecated. Use moment.localeData instead.",pt);ft=Math.abs;var up=kt("ms"),fp=kt("s"),ep=kt("m"),op=kt("h"),sp=kt("d"),hp=kt("w"),cp=kt("M"),lp=kt("y");var vp=ri("milliseconds"),yp=ri("seconds"),pp=ri("minutes"),wp=ri("hours"),bp=ri("days"),kp=ri("months"),dp=ri("years");return ct=Math.round,lt={s:45,m:45,h:22,d:26,M:11},yr=Math.abs,e=lr.prototype,e.abs=dy,e.add=gy,e.subtract=np,e.as=ip,e.asMilliseconds=up,e.asSeconds=fp,e.asMinutes=ep,e.asHours=op,e.asDays=sp,e.asWeeks=hp,e.asMonths=cp,e.asYears=lp,e.valueOf=rp,e._bubble=tp,e.get=ap,e.milliseconds=vp,e.seconds=yp,e.minutes=pp,e.hours=wp,e.days=bp,e.weeks=gp,e.months=kp,e.years=dp,e.humanize=uw,e.toISOString=pr,e.toString=pr,e.toJSON=pr,e.locale=es,e.localeData=os,e.toIsoString=d("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pr),e.lang=nf,r("X",0,0,"unix"),r("x",0,0,"valueOf"),i("x",ur),i("X",/[+-]?\d+(\.\d{1,3})?/),s("X",function(n,t,i){i._d=new Date(parseFloat(n,10)*1e3)}),s("x",function(n,t,i){i._d=new Date(f(n))}),t.version="2.17.1",bs(c),t.fn=n,t.min=na,t.max=ta,t.now=po,t.utc=rt,t.unix=ay,t.months=yy,t.isDate=wi,t.locale=oi,t.invalid=bi,t.duration=wt,t.isMoment=yt,t.weekdays=wy,t.parseZone=vy,t.localeData=pt,t.isDuration=wu,t.monthsShort=py,t.weekdaysMin=ky,t.defineLocale=lu,t.updateLocale=ol,t.locales=sl,t.weekdaysShort=by,t.normalizeUnits=g,t.relativeTimeRounding=iw,t.relativeTimeThreshold=rw,t.calendarFormat=va,t.prototype=n,t});window.uplus={};window.appControllers=angular.module("appControllers",[]);window.uplusModule=angular.module("uplus",[]);window.uplus.showLoading=function(n){n.$broadcast("loading-started");n.loadingCount?n.loadingCount++:n.loadingCount=1};window.uplus.hideLoading=function(n){n.loadingCount--;n.loadingCount===0&&n.$broadcast("loading-complete")};window.uplus.isSuccess=function(n){return n>0&&n<300};window.uplus.isPhoneGap=function(){return window.cordova?!0:!1};window.uplus.phoneGapInit=function(n){window.uplus.isPhoneGap()?document.addEventListener("deviceready",function(){window.uplus.baseUrl="https://easykira2.azurewebsites.net";FastClick.attach(document.body);angular.bootstrap(document,n)}):(window.uplus.baseUrl="",FastClick.attach(document.body),angular.bootstrap(document,n))};window.uplus.start=function(n){angular.element(document).ready(function(){new window.uplus.phoneGapInit(n)})};window.uplus.print={};window.uplus.print.setTitleFont=function(){var i=new Uint8Array(3),n,t;i[0]=27;i[1]=33;i[2]=8;n=new Uint8Array(3);n[0]=27;n[1]=33;n[2]=32;t=new Uint8Array(3);t[0]=27;t[1]=33;t[2]=16;bluetoothSerial.write(i,function(){},function(){});bluetoothSerial.write(n,function(){},function(){});bluetoothSerial.write(t,function(){},function(){})};window.uplus.print.setFontA=function(){bluetoothSerial.write([27,33,0],function(){},function(){})};window.uplus.print.lineFeed=function(){bluetoothSerial.write([10],function(){},function(){})};window.uplus.print.alignLeft=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=0;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.alignCenter=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=1;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.alignRight=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=2;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.bold=function(){var n=new Uint8Array(3);n[0]=27;n[1]=33;n[2]=8;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.cancelBold=function(){var n=new Uint8Array(3);n[0]=27;n[1]=69;n[2]=0;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.printString=function(n){bluetoothSerial.write(n,function(){},function(){})};window.app=angular.module("MedalinkApp",["ngRoute","appControllers","uplus","pasvaz.bindonce"]);app.config(["$routeProvider","$compileProvider","$locationProvider",function(n,t){t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|tel|mailto|file|ghttps?|ms-appx|x-wmapp0|market|whatsapp):/);t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|file|ms-appx|x-wmapp0):|data:image\//);n.when("/contacts",{templateUrl:"contacts.html",controller:"ContactsCtrl"}).when("/",{templateUrl:"exposures.html",controller:"ExposuresCtrl"}).when("/exposure/:id",{templateUrl:"exposure.html",controller:"ExposureCtrl"}).when("/exposure",{templateUrl:"exposure.html",controller:"ExposureCtrl"}).when("/aeons",{templateUrl:"aeons.html",controller:"AeonsCtrl"}).when("/sync",{templateUrl:"sync.html",controller:"SyncCtrl"}).when("/settings",{templateUrl:"settings.html",controller:"SettingsCtrl"}).when("/aeon/:id",{templateUrl:"aeon.html",controller:"AeonCtrl"}).when("/aeon",{templateUrl:"aeon.html",controller:"AeonCtrl"}).when("/contact/:id",{templateUrl:"contact.html",controller:"ContactCtrl"}).when("/login",{templateUrl:"login.html",controller:"LoginCtrl"}).when("/not-found",{templateUrl:"not-found.html",controller:"NotFoundCtrl"}).otherwise({redirectTo:"/not-found"})}]);window.uplus.start(["MedalinkApp"]);app.service("CacheSvc",["$http","$q",function(n,t){return{get:function(i){var r,u,f;return window.myCache||(window.myCache={}),r=t.defer(),window.myCache[i]?(u=window.myCache[i],Array.isArray(u)?(f=u.slice(0),r.resolve(f)):r.resolve(u)):n.get(i).success(function(n,t){window.uplus.isSuccess(t)?(window.myCache||(window.myCache={}),window.myCache[i]=n,r.resolve(n)):r.reject(n)}),r.promise},remove:function(n){window.myCache&&(window.myCache[n]=undefined)},prepend:function(n,t){if(window.myCache){var i=window.myCache[n];i&&(i.unshift(t),window.myCache[n]=i)}},append:function(n,t){if(window.myCache){var i=window.myCache[n];i&&(i.push(t),window.myCache[n]=i)}},update:function(n,t){window.myCache||(window.myCache={});window.myCache[n]=t},find:function(n){if(window.myCache)return window.myCache[n]}}}]);angular.module("uplus").directive("loadingIndicator",function(){return{restrict:"A",replace:!0,template:"<div class='marquee marquee-fixed'><\/div>",link:function(n,t){n.$on("loading-started",function(){t.css({display:"block"})});n.$on("loading-complete",function(){t.css({display:"none"})})}}}),function(){"use strict";
/**
	 * Bindonce - Zero watches binding for AngularJs
	 * @version v0.3.3
	 * @link https://github.com/Pasvaz/bindonce
	 * @author Pasquale Vazzana <pasqualevazzana@gmail.com>
	 * @license MIT License, http://www.opensource.org/licenses/MIT
	 */
var n=angular.module("pasvaz.bindonce",[]);n.directive("bindonce",function(){var t=function(n){if(n&&n.length!==0){var t=angular.lowercase(""+n);n=!(t==="f"||t==="0"||t==="false"||t==="no"||t==="n"||t==="[]")}else n=!1;return n},n=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);return isNaN(n)&&(n=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10)),{restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(i,r,u,f){var o=function(n,i,r){var u=i==="show"?"":"none",f=i==="hide"?"":"none";n.css("display",t(r)?u:f)},s=function(n,t){if(angular.isObject(t)&&!angular.isArray(t)){var i=[];angular.forEach(t,function(n,t){n&&i.push(t)});t=i}t&&n.addClass(angular.isArray(t)?t.join(" "):t)},e=function(n,t){n.transclude(t,function(t){var r=n.element.parent(),i=n.element&&n.element[n.element.length-1],u=r&&r[0]||i&&i.parentNode,f=i&&i.nextSibling||null;angular.forEach(t,function(n){u.insertBefore(n,f)})})},h={watcherRemover:undefined,binders:[],group:u.boName,element:r,ran:!1,addBinder:function(n){this.binders.push(n);this.ran&&this.runBinders()},setupWatcher:function(n){var t=this;this.watcherRemover=i.$watch(n,function(n){n!==undefined&&(t.removeWatcher(),t.checkBindonce(n))},!0)},checkBindonce:function(n){var t=this,i=n.$promise?n.$promise.then:n.then;typeof i=="function"?i(function(){t.runBinders()}):t.runBinders()},removeWatcher:function(){this.watcherRemover!==undefined&&(this.watcherRemover(),this.watcherRemover=undefined)},runBinders:function(){for(var i,r,c,h,u;this.binders.length>0;)if(i=this.binders.shift(),!this.group||this.group==i.group){r=i.scope.$eval(i.interpolate?f(i.value):i.value);switch(i.attr){case"boIf":t(r)&&e(i,i.scope.$new());break;case"boSwitch":h=i.controller[0];(c=h.cases["!"+r]||h.cases["?"])&&(i.scope.$eval(i.attrs.change),angular.forEach(c,function(n){e(n,i.scope.$new())}));break;case"boSwitchWhen":u=i.controller[0];u.cases["!"+i.attrs.boSwitchWhen]=u.cases["!"+i.attrs.boSwitchWhen]||[];u.cases["!"+i.attrs.boSwitchWhen].push({transclude:i.transclude,element:i.element});break;case"boSwitchDefault":u=i.controller[0];u.cases["?"]=u.cases["?"]||[];u.cases["?"].push({transclude:i.transclude,element:i.element});break;case"hide":case"show":o(i.element,i.attr,r);break;case"class":s(i.element,r);break;case"text":i.element.text(r);break;case"html":i.element.html(r);break;case"style":i.element.css(r);break;case"disabled":i.element.prop("disabled",r);break;case"src":i.element.attr(i.attr,r);n&&i.element.prop("src",r);break;case"attr":angular.forEach(i.attrs,function(n,t){var r,u;t.match(/^boAttr./)&&i.attrs[t]&&(r=t.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),u=i.scope.$eval(i.attrs[t]),i.element.attr(r,u))});break;case"href":case"alt":case"title":case"id":case"value":i.element.attr(i.attr,r)}}this.ran=!0}};angular.extend(this,h)}],link:function(n,t,i,r){var u=i.bindonce&&n.$eval(i.bindonce);u!==undefined?r.checkBindonce(u):(r.setupWatcher(i.bindonce),t.bind("$destroy",r.removeWatcher))}}});angular.forEach([{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boDisabled",attribute:"disabled"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}],function(t){var i=200;return n.directive(t.directiveName,function(){return{priority:t.priority||i,transclude:t.transclude||!1,terminal:t.terminal||!1,require:["^bindonce"].concat(t.require||[]),controller:t.controller,compile:function(n,i,r){return function(n,i,u,f){var e=f[0],s=u.boParent,o,h;if(s&&e.group!==s){for(o=e.element.parent(),e=undefined;o[0].nodeType!==9&&o.length;){if((h=o.data("$bindonceController"))&&h.group===s){e=h;break}o=o.parent()}if(!e)throw new Error("No bindonce controller: "+s);}e.addBinder({element:i,attr:t.attribute||t.directiveName,attrs:u,value:u[t.directiveName],interpolate:t.interpolate,group:s,transclude:r,controller:f.slice(1),scope:n})}}}})})}();angular.module("uplus").directive("keepScrollPos",["$route","$window","$timeout","$location","$anchorScroll",function(n,t,i,r,u){return{restrict:"A",link:function(f){f.$on("$routeChangeStart",function(){n.current&&(window.uplus.scrollPosCache||(window.uplus.scrollPosCache={}),window.uplus.scrollPosCache[n.current.loadedTemplateUrl]=[t.pageXOffset,t.pageYOffset])});f.$on("$routeChangeSuccess",function(){if(r.hash())u();else if(window.uplus.scrollPosCache){var f=window.uplus.scrollPosCache[n.current.loadedTemplateUrl]||[0,0];i(function(){t.scrollTo(f[0],f[1])},0)}})}}}]);angular.module("uplus").config(["$httpProvider",function(n){n.defaults.headers.get||(n.defaults.headers.get={});n.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT";n.defaults.headers.get["Cache-Control"]="no-cache";n.defaults.headers.get.Pragma="no-cache";n.defaults.withCredentials=!0;n.interceptors.push(["$q","$rootScope","$location","$timeout","$injector",function(n,t,i,r,u){return{request:function(i){return t.$broadcast("loading-started"),t.loadingCount?t.loadingCount++:t.loadingCount=1,i.timeout=2e4,i.url.substring(0,5)=="/api/"&&(i.url=window.uplus.baseUrl+i.url),i||n.when(i)},response:function(f){if(t.loadingCount--,t.loadingCount===0&&t.$broadcast("loading-complete"),f.status==500)f.data&&!/<[a-z][\s\S]*>/i.test(f.data)?t.$broadcast("OnAjaxError",{msg:f.data}):t.$broadcast("OnAjaxError",{msg:"Internal error. Please try again."});else if(f.status==401){var e=i.url();e!=="/login"&&(t.returnToUrl=e);i.path("/login")}else if(f.status==403)t.$broadcast("OnAjaxError",{msg:"Access denied."});else if(f.status==400)t.$broadcast("OnAjaxError",{msg:f.data.error});else if(f.status==404)i.path("/not-found");else if(f.status==408)t.$broadcast("OnAjaxError",{msg:"Request timeout. Please try again."});else if(f.status<=0)return f.config.Retries&&f.config.Retries!==1?(f.config.Retries=null,t.$broadcast("OnAjaxError",{msg:"Request timeout. Please try again."}),n.when(f)):r(function(){f.config.Retries=f.config.Retries?2:1;var n=u.get("$http");return n(f.config)},500);return f||n.when(f)},responseError:function(f){if(t.loadingCount--,t.loadingCount===0&&t.$broadcast("loading-complete"),f.status==500)f.data&&!/<[a-z][\s\S]*>/i.test(f.data)?t.$broadcast("OnAjaxError",{msg:f.data}):t.$broadcast("OnAjaxError",{msg:"Internal error. Please try again."});else if(f.status==401){var e=i.url();e!=="/login"&&(t.returnToUrl=e);i.path("/login")}else if(f.status==403)t.$broadcast("OnAjaxError",{msg:"Access denied."});else if(f.status==400)t.$broadcast("OnAjaxError",{msg:f.data.error});else if(f.status==404)i.path("/not-found");else if(f.status==408)t.$broadcast("OnAjaxError",{msg:"Request timeout. Please try again."});else if(f.status<=0)return f.config.Retries&&f.config.Retries!==1?(f.config.Retries=null,t.$broadcast("OnAjaxError",{msg:"Request timeout. Please try again."}),n.reject(f)):r(function(){f.config.Retries=f.config.Retries?2:1;var n=u.get("$http");return n(f.config)},500);return f||n.reject(f)}}}])}]);angular.module("uplus").factory("notify",["$timeout","$http","$compile","$templateCache","$rootScope","$location","CacheSvc",function(n,t,i,r,u,f,e){var c=140,l=40,a=1e4,v="angular-notify.html",y="center",p=document.body,h=3,o=[],s=[],w=function(w){var b,g,k,d;if(typeof w!="object"&&(w={message:w}),w.duration=w.duration?w.duration:a,w.templateUrl=w.templateUrl?w.templateUrl:v,w.container=w.container?w.container:p,w.classes=w.classes?w.classes:"",b=w.scope?w.scope.$new():u.$new(),b.$position=w.position?w.position:y,b.$message=w.message,b.$classes=w.classes,b.$messageTemplate=w.messageTemplate,h>0)for(g=s.length+1-h,k=0;k<g;k++)s[k].$close();return t.get(w.templateUrl,{cache:r}).success(function(t){var r=i(t)(b),a,u,h;if(r.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",function(n){(n.propertyName==="opacity"||n.currentTarget.style.opacity===0||n.originalEvent&&n.originalEvent.propertyName==="opacity")&&(r.remove(),o.splice(o.indexOf(r),1),s.splice(s.indexOf(b),1),h())}),w.messageTemplate){for(u=0;u<r.children().length;u++)if(angular.element(r.children()[u]).hasClass("cg-notify-message-template")){a=angular.element(r.children()[u]);break}if(a)a.append(i(w.messageTemplate)(b));else throw new Error("cgNotify could not find the .cg-notify-message-template element in "+w.templateUrl+".");}angular.element(w.container).append(r);o.push(r);b.$position==="center"&&n(function(){b.$centerMargin="-"+r[0].offsetWidth/2+"px"});b.$close=function(){r.css("opacity",0).attr("data-closing","true");h()};b.$toClose=function(){w.url&&(e.remove(w.url),f.path(w.url));b.$close()};h=function(){for(var e=0,r=c,n=o.length-1;n>=0;n--){var u=10,t=o[n],i=t[0].offsetHeight,f=r+i+u;t.attr("data-closing")?f+=20:r+=i+l;t.css("top",f+"px").css("margin-top","-"+(i+u)+"px").css("visibility","visible");e++}};n(function(){h()});w.duration>0&&n(function(){b.$close()},w.duration)}).error(function(n){throw new Error("Template specified for cgNotify ("+w.templateUrl+") could not be loaded. "+n);}),d={},d.close=function(){b.$close&&b.$close()},Object.defineProperty(d,"message",{get:function(){return b.$message},set:function(n){b.$message=n}}),s.push(b),d};return w.config=function(n){c=angular.isUndefined(n.startTop)?c:n.startTop;l=angular.isUndefined(n.verticalSpacing)?l:n.verticalSpacing;a=angular.isUndefined(n.duration)?a:n.duration;v=n.templateUrl?n.templateUrl:v;y=angular.isUndefined(n.position)?y:n.position;p=n.container?n.container:p;h=n.maximumOpen?n.maximumOpen:h},w.closeAll=function(){for(var t,n=o.length-1;n>=0;n--)t=o[n],t.css("opacity",0)},w}]);angular.module("uplus").run(["$templateCache",function(n){"use strict";n.put("angular-notify.html","<div class='cg-notify-message' ng-click='$toClose()' ng-bind='$message'><\/div>")}]);angular.module("uplus").directive("compareCheck",function(){return{require:"ngModel",link:function(n,t,i,r){i.compareCheck&&(n.$watch(i.compareCheck,function(n){r.$viewValue!==undefined&&r.$viewValue!==""&&r.$setValidity("compareCheck",n===r.$viewValue)}),r.$parsers.push(function(t){if(t===undefined||t==="")return r.$setValidity("compareCheck",!0),t;var u=t===n.$eval(i.compareCheck);return r.$setValidity("compareCheck",u),u?t:undefined}))}}});angular.module("uplus").directive("contenteditable",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){function u(){r.$setViewValue(t.text())}r.$render=function(){t.html(r.$viewValue||"")};t.bind("blur keyup change",function(){n.$apply(u)})}}});appControllers.controller("ExposureCtrl",["$rootScope","$scope","$routeParams","$timeout","$location",function(n,t,i,r,u){n.setPageTitle("Exposure");t.tab=1;var f=i.id;t.changeTab=function(n){t.tab=n;window.scrollTo(0,0)};t.EmergencyRelationships=[{id:0,name:"Ibu Bapa"},{id:1,name:"Saudara"},{id:2,name:"Lain-Lain"}];t.EmergencyTitles=[{id:0,name:"Mr"},{id:1,name:"Ms"},{id:3,name:"Madam"},{id:4,name:"Other"}];t.Occupations=[{id:0,name:"Army"},{id:1,name:"Police"},{id:2,name:"Government Servant"},{id:3,name:"State Government Servant"},{id:4,name:"Private Sector"},{id:5,name:"Self Employed"},{id:6,name:"Businessman"},{id:7,name:"Retired"},{id:8,name:"Unemployed"},{id:9,name:"Other"}];t.StaffTypes=[{id:0,name:"NA"},{id:1,name:"Federal"},{id:2,name:"State"}];t.EmploymentTypes=[{id:0,name:"Permanent"},{id:1,name:"Temporary"},{id:2,name:"Contract"},{id:3,name:"Other"}];t.current=f?JSON.parse(window.localStorage.getItem("exposure-"+f)):{RetireAge:59,NoOfDependent:0,EmploymentType:0,StaffType:0,Occupation:0,EmergencyTitle:0,EmergencyRelationship:0,State:"Sarawak",EmergencyState:"Sarawak",OfficeState:"Sarawak",ApplicationDate:new Date};t.submitForm=function(n){if(n.$valid){if(t.isDisabled=!0,!f){var i=0;window.localStorage.getItem("exposure-count")&&(i=Number(window.localStorage.getItem("exposure-count")));f=i+1;window.localStorage.setItem("exposure-count",f)}t.current.DOB=t.current.DOBd+"/"+t.current.DOBm+"/"+t.current.DOBy;t.current.EmploymentDate=t.current.EmploymentDated+"/"+t.current.EmploymentDatem+"/"+t.current.EmploymentDatey;t.current.ConfirmationDate=t.current.ConfirmationDated+"/"+t.current.ConfirmationDatem+"/"+t.current.ConfirmationDatey;window.localStorage.setItem("aeon-"+f,angular.toJson(t.current));r(function(){t.isDisabled=!1},1e3)}};t.delete=function(){confirm("Are you sure you want to delete?")&&(t.isDisabled=!0,t.current.IsDeleted=!0,aeonId&&window.localStorage.setItem("aeon-"+aeonId,angular.toJson(t.current)),r(function(){t.isDisabled=!1;u.path("/aeons").replace()},1e3))};t.$on("OnAjaxError",function(t,i){n.showModal(i.msg)})}]);appControllers.controller("ExposuresCtrl",["$rootScope","$scope","$location",function(n,t,r){n.setPageTitle("Exposure");t.list=[];var u,e=[],f=0;if(window.localStorage.getItem("exposure-count")&&(f=Number(window.localStorage.getItem("exposure-count"))),f>0)for(i=1;i<=f;i++)u=JSON.parse(window.localStorage.getItem("exposure-"+i)),u.IsDeleted||e.push({Id:i,Name:u.Name,Item:u.IcNo});t.list=e;t.onNew=function(){r.path("/exposure")};t.$on("OnAjaxError",function(t,i){n.showModal(i.msg)})}]);appControllers.controller("NavCtrl",["$scope","$rootScope","$http","notify","$location",function(n,t,i,r,u){if(t.appVersion="Version 0.8",t.returnToUrl="",t.isAuthenticated=!1,t.userName="",t.setPageTitle=function(i){t.mainPageTitle=i+" - Medalink";n.pageTitle=i},t.showModal=function(n){r({message:n})},t.signOut=function(){i.delete("/api/Auth").success(function(n,i){window.uplus.isSuccess(i)&&(t.userName="",t.isAuthenticated=!1,window.myCache={},u.path("/login"))})},t.onLogin=function(n,i){if(t.userName=n.UserName,t.isAuthenticated=n.IsAuthenticated,n.IsAuthenticated)if(i)if(t.returnToUrl&&t.returnToUrl!=="/login"){var r=t.returnToUrl;t.returnToUrl=null;u.path(r).replace()}else t.returnToUrl=null,u.path("/").replace();else u.path()==="/login"&&u.path("/").replace()},angular.element(document.getElementById("splash")).remove(),window.FCMPlugin){FCMPlugin.onTokenRefresh(function(){});FCMPlugin.getToken(function(){});FCMPlugin.onNotification(function(n){alert(JSON.stringify(n))})}}]);appControllers.controller("NotFoundCtrl",["$rootScope","$scope",function(n,t){n.setPageTitle("Page Not Found");t.back=function(){window.history.back()};t.$on("OnAjaxError",function(t,i){n.showModal(i.msg)})}]);appControllers.controller("ContactCtrl",["$rootScope","$scope","$routeParams","$http","CacheSvc",function(n,t,i,r,u){n.setPageTitle("Contact");t.fetchData=function(){t.isDisabled=!0;r.get("/api/ContactLog/"+i.id).success(function(n,i){window.uplus.isSuccess(i)&&(n.Answers=JSON.parse(n.JsonText),t.current=n,t.isDisabled=!1)})};t.assignMe=function(){t.isDisabled=!0;r.post("/api/ContactLog/"+i.id).success(function(n,i){window.uplus.isSuccess(i)&&(n.Answers=JSON.parse(n.JsonText),t.current=n,t.isDisabled=!1,u.remove("/api/ContactLog"))})};t.fetchData();t.$on("OnAjaxError",function(i,r){t.isDisabled=!1;n.showModal(r.msg)})}]);appControllers.controller("SettingsCtrl",["$rootScope","$scope","$http","$location",function(n,t,i,r){n.setPageTitle("Settings");t.current={};i.get("/api/Auth").success(function(i,u){if(window.uplus.isSuccess(u)){if(!i.IsAuthenticated){n.returnToUrl="/settings";r.path("/login");return}t.current=i}});t.submitForm=function(r){r.$valid&&(t.isDisabled=!0,i.put("/api/Auth",t.current).success(function(i,r){window.uplus.isSuccess(r)&&(t.isDisabled=!1,n.showModal("Saved"),t.current.CurrentPassword=null,t.current.NewPassword=null,t.current.ConfirmPassword=null)}))};t.$on("OnAjaxError",function(i,r){t.isDisabled=!1;n.showModal(r.msg)})}]);appControllers.controller("SyncCtrl",["$rootScope","$scope","$http",function(t,i,r){t.setPageTitle("Sync");i.current={};i.current.lastSync="-";i.current.totalPernama=0;i.current.totalAeon=0;window.localStorage.getItem("pernama-sync")&&(i.current.lastSync=new Date(window.localStorage.getItem("pernama-sync")));i.current.totalPernama=window.localStorage.getItem("pernama-count")?Number(window.localStorage.getItem("pernama-count")):0;i.current.totalExposure=window.localStorage.getItem("exposure-count")?Number(window.localStorage.getItem("exposure-count")):0;i.current.totalAeon=window.localStorage.getItem("aeon-count")?Number(window.localStorage.getItem("aeon-count")):0;i.sync=function(){i.isDisabled=!0;i.onSync1()};i.onSync1=function(){var t=[];r.get("/api/Pernama").success(function(r,u){if(window.uplus.isSuccess(u)){for(n=0;n<r.length;n++)t.push(JSON.parse(r[n]));i.onSync2(t)}})};i.onSync2=function(t){var u=[];r.get("/api/Pernama/groups").success(function(r,f){if(window.uplus.isSuccess(f)){for(n=0;n<r.length;n++)u.push(JSON.parse(r[n]));i.onSync3(t,u)}})};i.onSync3=function(t,u){var f=[];r.get("/api/Pernama/promos").success(function(r,e){if(window.uplus.isSuccess(e)){for(n=0;n<r.length;n++)f.push(JSON.parse(r[n]));window.localStorage.setItem("pernama",JSON.stringify(t));window.localStorage.setItem("pernama-groups",JSON.stringify(u));window.localStorage.setItem("pernama-promos",JSON.stringify(f));i.current.lastSync=new Date;window.localStorage.setItem("pernama-sync",i.current.lastSync);i.onSync4()}})};i.onSync4=function(){var n=i.current.totalPernama,t;n>0?(t=JSON.parse(window.localStorage.getItem("pernama-"+n)),r.post("/api/SyncPernama",t).success(function(t,r){window.uplus.isSuccess(r)&&(i.current.totalPernama--,window.localStorage.removeItem("pernama-"+n),window.localStorage.setItem("pernama-count",i.current.totalPernama),i.onSync4())})):i.onSync5()};i.onSync5=function(){var n=i.current.totalAeon,t;n>0?(t=JSON.parse(window.localStorage.getItem("aeon-"+n)),r.post("/api/SyncAeon",t).success(function(t,r){window.uplus.isSuccess(r)&&(i.current.totalAeon--,window.localStorage.removeItem("aeon-"+n),window.localStorage.setItem("aeon-count",i.current.totalAeon),i.onSync5())})):i.onSync6()};i.onSync6=function(){var n=i.current.totalExposure,t;n>0?(t=JSON.parse(window.localStorage.getItem("exposure-"+n)),r.post("/api/SyncExposure",t).success(function(t,r){window.uplus.isSuccess(r)&&(i.current.totalExposure--,window.localStorage.removeItem("exposure-"+n),window.localStorage.setItem("exposure-count",i.current.totalExposure),i.onSync6())})):i.isDisabled=!1};i.$on("OnAjaxError",function(n,r){i.isDisabled=!1;t.showModal(r.msg)})}]);appControllers.controller("LoginCtrl",["$rootScope","$scope","$http",function(n,t,i){n.setPageTitle("Login");t.current={};var r=window.localStorage.getItem("Code");r&&(t.current.Code=r);t.submitForm=function(r){r.$valid&&(t.isDisabled=!0,window.localStorage.setItem("Code",t.current.Code),i.post("/api/Auth",t.current).success(function(i,r){if(window.uplus.isSuccess(r)){t.isDisabled=!1;n.onLogin(i,!0)}}))};t.$on("OnAjaxError",function(i,r){t.isDisabled=!1;n.showModal(r.msg)})}]);appControllers.controller("ContactsCtrl",["$rootScope","$scope","CacheSvc",function(n,t,i){n.setPageTitle("Contacts");t.fetchData=function(){t.isDisabled=!0;i.get("/api/ContactLog").then(function(n){t.list=n;t.isDisabled=!1})};t.refreshData=function(){i.remove("/api/ContactLog");t.fetchData()};t.fetchData();t.$on("OnAjaxError",function(i,r){t.isDisabled=!1;n.showModal(r.msg)})}]);appControllers.controller("AeonsCtrl",["$rootScope","$scope","$location",function(n,t,r){n.setPageTitle("Aeon");t.list=[];var u,e=[],f=0;if(window.localStorage.getItem("aeon-count")&&(f=Number(window.localStorage.getItem("aeon-count"))),f>0)for(i=1;i<=f;i++)u=JSON.parse(window.localStorage.getItem("aeon-"+i)),u.IsDeleted||e.push({Id:i,Name:u.Name,Item:u.Item1});t.list=e;t.onNew=function(){r.path("/aeon")};t.$on("OnAjaxError",function(t,i){n.showModal(i.msg)})}]);appControllers.controller("AeonCtrl",["$rootScope","$scope","$routeParams","$timeout","$location",function(n,t,i,r,u){function e(i){n.showModal(i);t.$apply()}var f,o;n.setPageTitle("Aeon");t.mykad="";t.tab=1;f=i.id;t.changeTab=function(n){t.tab=n;window.scrollTo(0,0)};t.current=f?JSON.parse(window.localStorage.getItem("aeon-"+f)):{AgreementFee:84.8,ApplicationDate:new Date};t.submitForm=function(n){if(n.$valid){if(t.isDisabled=!0,!f){var i=0;window.localStorage.getItem("aeon-count")&&(i=Number(window.localStorage.getItem("aeon-count")));f=i+1;window.localStorage.setItem("aeon-count",f)}window.localStorage.setItem("aeon-"+f,angular.toJson(t.current));r(function(){t.isDisabled=!1},1e3)}};t.delete=function(){confirm("Are you sure you want to delete?")&&(t.isDisabled=!0,t.current.IsDeleted=!0,f&&window.localStorage.setItem("aeon-"+f,angular.toJson(t.current)),r(function(){t.isDisabled=!1;u.path("/aeons").replace()},1e3))};t.onEnterMykad=function(){if(t.mykad){var n=JSON.parse(t.mykad);t.current.Address=n.Address;t.current.Name=n.FullName;t.current.Code=n.NRICNumber}};o=function(n){return Math.round((n+1e-5)*100)/100};t.onCalc=function(){var n=0,u,f,e;t.current.Price1&&(n=t.current.Price1);t.current.Price2&&(n+=t.current.Price2);t.current.Price3&&(n+=t.current.Price3);t.current.Price4&&(n+=t.current.Price4);t.current.TotalCashPrice=n;u=t.current.AgreementFee?t.current.AgreementFee:0;f=t.current.Downpayment?t.current.Downpayment:0;t.current.FinanceAmount=n+u-f;var o=t.current.InterestRate?t.current.InterestRate:0,r=t.current.LoanPeriod?t.current.LoanPeriod:0,i=0;r>0&&(i=(o/100*t.current.FinanceAmount*r+t.current.FinanceAmount)/r);t.current.MonthlyAmount=i-parseInt(i,10)>.44?parseInt(i,10)+1:parseInt(i,10);e=t.current.InitialPayment?t.current.InitialPayment:0;t.current.BalanceSum=t.current.MonthlyAmount*r-e};t.removePhoto=function(n){t.current[n]=null};t.pickPhoto=function(n){navigator.camera.getPicture(function(i){t.current[n]="data:image/jpg;base64,"+i;t.$apply()},e,{quality:80,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:1e3,targetHeight:1e3})};t.takePhoto=function(n){navigator.camera.getPicture(function(i){t.current[n]="data:image/jpg;base64,"+i;t.$apply()},e,{quality:80,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:1e3,targetHeight:1e3})};t.$on("OnAjaxError",function(t,i){n.showModal(i.msg)});t.print=function(){confirm("Are you sure you want to print?")&&typeof bluetoothSerial!="undefined"&&bluetoothSerial.isEnabled(function(){bluetoothSerial.isConnected(function(){t.onPrint()},function(){bluetoothSerial.list(function(i){i.length===0?(n.showModal("No Bluetooth Devices. Please pair a Bluetooth Device."),t.$apply()):bluetoothSerial.connect(i[0].id,function(){t.onPrint()},function(i){n.showModal("ERROR: "+i);t.$apply()})},function(i){n.showModal("ERROR: "+i);t.$apply()})})},function(){n.showModal("Bluetooth is not enabled");t.$apply()})};t.onPrint=function(){window.uplus.print.setTitleFont();window.uplus.print.alignCenter();window.uplus.print.printString("Medalink Sdn Bhd");window.uplus.print.lineFeed();window.uplus.print.bold();window.uplus.print.printString("www.easykira.com");window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.setFontA();window.uplus.print.alignLeft();window.uplus.print.printString("Date  : "+moment(t.current.ApplicationDate).format("d-M-YYYY"));window.uplus.print.lineFeed();window.uplus.print.printString("ID    : "+t.current.Code);window.uplus.print.lineFeed();window.uplus.print.printString("Name  : "+t.current.Name);window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.printString("Brand : "+t.current.Brand1);window.uplus.print.lineFeed();window.uplus.print.printString("Model : "+t.current.Model1);window.uplus.print.lineFeed();window.uplus.print.printString("Price : RM "+t.current.Price1.toFixed(2));window.uplus.print.lineFeed();t.current.Model2&&(window.uplus.print.printString("Brand : "+t.current.Brand2),window.uplus.print.lineFeed(),window.uplus.print.printString("Model : "+t.current.Model2),window.uplus.print.lineFeed(),window.uplus.print.printString("Price : RM "+t.current.Price2.toFixed(2)),window.uplus.print.lineFeed());t.current.Model3&&(window.uplus.print.printString("Brand : "+t.current.Brand3),window.uplus.print.lineFeed(),window.uplus.print.printString("Model : "+t.current.Model3),window.uplus.print.lineFeed(),window.uplus.print.printString("Price : RM "+t.current.Price3.toFixed(2)),window.uplus.print.lineFeed());t.current.Model4&&(window.uplus.print.printString("Brand : "+t.current.Brand4),window.uplus.print.lineFeed(),window.uplus.print.printString("Model : "+t.current.Model4),window.uplus.print.lineFeed(),window.uplus.print.printString("Price : RM "+t.current.Price4.toFixed(2)),window.uplus.print.lineFeed());window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.printString("Total Cash Price : RM "+t.current.TotalCashPrice.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Agreement Fee    : RM "+t.current.AgreementFee.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Interest Rate    : "+t.current.InterestRate.toFixed(2)+"%");window.uplus.print.lineFeed();window.uplus.print.printString("Downpayment      : RM "+t.current.Downpayment.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Finance Amount   : RM "+t.current.FinanceAmount.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Initial Payment  : RM "+t.current.InitialPayment.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Balance Sum      : RM "+t.current.BalanceSum.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Loan Period      : "+t.current.LoanPeriod);window.uplus.print.lineFeed();window.uplus.print.printString("Monthly Amount   : RM "+t.current.MonthlyAmount.toFixed(2));window.uplus.print.lineFeed();t.current.UserCode&&(window.uplus.print.lineFeed(),window.uplus.print.lineFeed(),window.uplus.print.printString("Your are served by "+t.current.UserCode),window.uplus.print.lineFeed());window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed()}}]);